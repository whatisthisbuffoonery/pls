<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Beej's Guide to Git</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <!-- BG custom styling -->
  <style type="text/css">
  /* Fix for line numbers not visible */
  pre.numberSource code > span {
      left: -1em;
  }
  pre.numberSource {
      margin-left: initial;
  }

  /* Put some space after the section numbers */
  span.toc-section-number::after {
      content: "\a0\a0\a0";  /* non-breaking whitespace */
  }

  /* Hide underlines on code number links */
  pre > code.sourceCode > span > a:first-child::before {
      text-decoration: none;
  }

  /* Color the source blocks */
  div.sourceCode {
      background-color: #f0f0f0;
  }

  /* Fix iOS big text rendering issue */
  pre > code.sourceCode > span {
      display: initial;
  }


  /* Color the inline code */
  code:not(.sourceCode) {
      background: #f0f0f0;
      padding-left: 0.2em;
      padding-right: 0.2em;
      border-radius: 0.2em;
  }

  pre.sourceCode {
      border: 1px solid #ccc;
      padding: 0.5em;
      border-radius: 0.2em;
  }

  /* Keep code tags from wrapping in tables */
  tbody code {
      white-space: nowrap;
  }

  /* Prevent hyphenation and hyphen breaks in code*/
  code {
      word-break: keep-all;
  }

  td {
      vertical-align: top;
  }

  body {
      font-size: 12pt;
      max-width: 43em;
      font-family: sans-serif;
  }

  html {
      background: #f9f9f9;
  }

  figure > embed {
      max-width: 100%;
  }

  figure {
      text-align: center;
      margin-top: 2em;
      margin-bottom: 2em;
  }

  figcaption {
      font-size: 0.9em;
      font-style: italic;
      margin-top: 0.6em;
  }

  body {
      counter-reset: figure-counter-major;
      counter-reset: figure-counter-minor;
  }

  figure {
      counter-increment: figure-counter-minor;
  }

  figcaption::before {
      content: "Figure " counter(figure-counter-major) "." counter(figure-counter-minor) ": ";
  }

  blockquote {
      border-left: 2px solid #bbb;
      color: #444;
  }

  /* Contents */

  nav[role="doc-toc"] > ul > li {
    font-weight: bold;
    margin-top: 1.2em;
  }

  nav[role="doc-toc"] > ul > li:first {
    font-weight: bold;
    margin-top: initial;
  }

  nav[role="doc-toc"] > ul > li > ul {
    font-weight: normal;
    margin-top: 0.3em;
  }

  /*
  In multipage, we need to reset the figure counter to the chapter
  number. Luckily, this is in the <h1 data-number> attribute. Unluckily,
  there is no way to get this in a general way.

  This doesn't work:

    h1[data-number] {
      counter-set: figure-counter-major attr(data-number);
    }

  Nor this:

    h1[data-number] {
      --figure-counter-major-value: attr(data-number);
      counter-set: figure-counter-major var(--figure-counter-major-value);
    }

  So, dumbly, we have a bunch of rules for all these sections, up to the
  maximum possible section.

  Here's a program to generate them:

    for (let i = 1; i < 100; i++)
        console.log(`h1[data-number="${i}"]{counter-set:figure-counter-major ${i};counter-reset:figure-counter-minor;}`);

  Note to self: never write a book with more than 99 frickin' chapters.
  */

  h1[data-number="1"]{counter-set:figure-counter-major 1;counter-reset:figure-counter-minor;}
  h1[data-number="2"]{counter-set:figure-counter-major 2;counter-reset:figure-counter-minor;}
  h1[data-number="3"]{counter-set:figure-counter-major 3;counter-reset:figure-counter-minor;}
  h1[data-number="4"]{counter-set:figure-counter-major 4;counter-reset:figure-counter-minor;}
  h1[data-number="5"]{counter-set:figure-counter-major 5;counter-reset:figure-counter-minor;}
  h1[data-number="6"]{counter-set:figure-counter-major 6;counter-reset:figure-counter-minor;}
  h1[data-number="7"]{counter-set:figure-counter-major 7;counter-reset:figure-counter-minor;}
  h1[data-number="8"]{counter-set:figure-counter-major 8;counter-reset:figure-counter-minor;}
  h1[data-number="9"]{counter-set:figure-counter-major 9;counter-reset:figure-counter-minor;}
  h1[data-number="10"]{counter-set:figure-counter-major 10;counter-reset:figure-counter-minor;}
  h1[data-number="11"]{counter-set:figure-counter-major 11;counter-reset:figure-counter-minor;}
  h1[data-number="12"]{counter-set:figure-counter-major 12;counter-reset:figure-counter-minor;}
  h1[data-number="13"]{counter-set:figure-counter-major 13;counter-reset:figure-counter-minor;}
  h1[data-number="14"]{counter-set:figure-counter-major 14;counter-reset:figure-counter-minor;}
  h1[data-number="15"]{counter-set:figure-counter-major 15;counter-reset:figure-counter-minor;}
  h1[data-number="16"]{counter-set:figure-counter-major 16;counter-reset:figure-counter-minor;}
  h1[data-number="17"]{counter-set:figure-counter-major 17;counter-reset:figure-counter-minor;}
  h1[data-number="18"]{counter-set:figure-counter-major 18;counter-reset:figure-counter-minor;}
  h1[data-number="19"]{counter-set:figure-counter-major 19;counter-reset:figure-counter-minor;}
  h1[data-number="20"]{counter-set:figure-counter-major 20;counter-reset:figure-counter-minor;}
  h1[data-number="21"]{counter-set:figure-counter-major 21;counter-reset:figure-counter-minor;}
  h1[data-number="22"]{counter-set:figure-counter-major 22;counter-reset:figure-counter-minor;}
  h1[data-number="23"]{counter-set:figure-counter-major 23;counter-reset:figure-counter-minor;}
  h1[data-number="24"]{counter-set:figure-counter-major 24;counter-reset:figure-counter-minor;}
  h1[data-number="25"]{counter-set:figure-counter-major 25;counter-reset:figure-counter-minor;}
  h1[data-number="26"]{counter-set:figure-counter-major 26;counter-reset:figure-counter-minor;}
  h1[data-number="27"]{counter-set:figure-counter-major 27;counter-reset:figure-counter-minor;}
  h1[data-number="28"]{counter-set:figure-counter-major 28;counter-reset:figure-counter-minor;}
  h1[data-number="29"]{counter-set:figure-counter-major 29;counter-reset:figure-counter-minor;}
  h1[data-number="30"]{counter-set:figure-counter-major 30;counter-reset:figure-counter-minor;}
  h1[data-number="31"]{counter-set:figure-counter-major 31;counter-reset:figure-counter-minor;}
  h1[data-number="32"]{counter-set:figure-counter-major 32;counter-reset:figure-counter-minor;}
  h1[data-number="33"]{counter-set:figure-counter-major 33;counter-reset:figure-counter-minor;}
  h1[data-number="34"]{counter-set:figure-counter-major 34;counter-reset:figure-counter-minor;}
  h1[data-number="35"]{counter-set:figure-counter-major 35;counter-reset:figure-counter-minor;}
  h1[data-number="36"]{counter-set:figure-counter-major 36;counter-reset:figure-counter-minor;}
  h1[data-number="37"]{counter-set:figure-counter-major 37;counter-reset:figure-counter-minor;}
  h1[data-number="38"]{counter-set:figure-counter-major 38;counter-reset:figure-counter-minor;}
  h1[data-number="39"]{counter-set:figure-counter-major 39;counter-reset:figure-counter-minor;}
  h1[data-number="40"]{counter-set:figure-counter-major 40;counter-reset:figure-counter-minor;}
  h1[data-number="41"]{counter-set:figure-counter-major 41;counter-reset:figure-counter-minor;}
  h1[data-number="42"]{counter-set:figure-counter-major 42;counter-reset:figure-counter-minor;}
  h1[data-number="43"]{counter-set:figure-counter-major 43;counter-reset:figure-counter-minor;}
  h1[data-number="44"]{counter-set:figure-counter-major 44;counter-reset:figure-counter-minor;}
  h1[data-number="45"]{counter-set:figure-counter-major 45;counter-reset:figure-counter-minor;}
  h1[data-number="46"]{counter-set:figure-counter-major 46;counter-reset:figure-counter-minor;}
  h1[data-number="47"]{counter-set:figure-counter-major 47;counter-reset:figure-counter-minor;}
  h1[data-number="48"]{counter-set:figure-counter-major 48;counter-reset:figure-counter-minor;}
  h1[data-number="49"]{counter-set:figure-counter-major 49;counter-reset:figure-counter-minor;}
  h1[data-number="50"]{counter-set:figure-counter-major 50;counter-reset:figure-counter-minor;}
  h1[data-number="51"]{counter-set:figure-counter-major 51;counter-reset:figure-counter-minor;}
  h1[data-number="52"]{counter-set:figure-counter-major 52;counter-reset:figure-counter-minor;}
  h1[data-number="53"]{counter-set:figure-counter-major 53;counter-reset:figure-counter-minor;}
  h1[data-number="54"]{counter-set:figure-counter-major 54;counter-reset:figure-counter-minor;}
  h1[data-number="55"]{counter-set:figure-counter-major 55;counter-reset:figure-counter-minor;}
  h1[data-number="56"]{counter-set:figure-counter-major 56;counter-reset:figure-counter-minor;}
  h1[data-number="57"]{counter-set:figure-counter-major 57;counter-reset:figure-counter-minor;}
  h1[data-number="58"]{counter-set:figure-counter-major 58;counter-reset:figure-counter-minor;}
  h1[data-number="59"]{counter-set:figure-counter-major 59;counter-reset:figure-counter-minor;}
  h1[data-number="60"]{counter-set:figure-counter-major 60;counter-reset:figure-counter-minor;}
  h1[data-number="61"]{counter-set:figure-counter-major 61;counter-reset:figure-counter-minor;}
  h1[data-number="62"]{counter-set:figure-counter-major 62;counter-reset:figure-counter-minor;}
  h1[data-number="63"]{counter-set:figure-counter-major 63;counter-reset:figure-counter-minor;}
  h1[data-number="64"]{counter-set:figure-counter-major 64;counter-reset:figure-counter-minor;}
  h1[data-number="65"]{counter-set:figure-counter-major 65;counter-reset:figure-counter-minor;}
  h1[data-number="66"]{counter-set:figure-counter-major 66;counter-reset:figure-counter-minor;}
  h1[data-number="67"]{counter-set:figure-counter-major 67;counter-reset:figure-counter-minor;}
  h1[data-number="68"]{counter-set:figure-counter-major 68;counter-reset:figure-counter-minor;}
  h1[data-number="69"]{counter-set:figure-counter-major 69;counter-reset:figure-counter-minor;}
  h1[data-number="70"]{counter-set:figure-counter-major 70;counter-reset:figure-counter-minor;}
  h1[data-number="71"]{counter-set:figure-counter-major 71;counter-reset:figure-counter-minor;}
  h1[data-number="72"]{counter-set:figure-counter-major 72;counter-reset:figure-counter-minor;}
  h1[data-number="73"]{counter-set:figure-counter-major 73;counter-reset:figure-counter-minor;}
  h1[data-number="74"]{counter-set:figure-counter-major 74;counter-reset:figure-counter-minor;}
  h1[data-number="75"]{counter-set:figure-counter-major 75;counter-reset:figure-counter-minor;}
  h1[data-number="76"]{counter-set:figure-counter-major 76;counter-reset:figure-counter-minor;}
  h1[data-number="77"]{counter-set:figure-counter-major 77;counter-reset:figure-counter-minor;}
  h1[data-number="78"]{counter-set:figure-counter-major 78;counter-reset:figure-counter-minor;}
  h1[data-number="79"]{counter-set:figure-counter-major 79;counter-reset:figure-counter-minor;}
  h1[data-number="80"]{counter-set:figure-counter-major 80;counter-reset:figure-counter-minor;}
  h1[data-number="81"]{counter-set:figure-counter-major 81;counter-reset:figure-counter-minor;}
  h1[data-number="82"]{counter-set:figure-counter-major 82;counter-reset:figure-counter-minor;}
  h1[data-number="83"]{counter-set:figure-counter-major 83;counter-reset:figure-counter-minor;}
  h1[data-number="84"]{counter-set:figure-counter-major 84;counter-reset:figure-counter-minor;}
  h1[data-number="85"]{counter-set:figure-counter-major 85;counter-reset:figure-counter-minor;}
  h1[data-number="86"]{counter-set:figure-counter-major 86;counter-reset:figure-counter-minor;}
  h1[data-number="87"]{counter-set:figure-counter-major 87;counter-reset:figure-counter-minor;}
  h1[data-number="88"]{counter-set:figure-counter-major 88;counter-reset:figure-counter-minor;}
  h1[data-number="89"]{counter-set:figure-counter-major 89;counter-reset:figure-counter-minor;}
  h1[data-number="90"]{counter-set:figure-counter-major 90;counter-reset:figure-counter-minor;}
  h1[data-number="91"]{counter-set:figure-counter-major 91;counter-reset:figure-counter-minor;}
  h1[data-number="92"]{counter-set:figure-counter-major 92;counter-reset:figure-counter-minor;}
  h1[data-number="93"]{counter-set:figure-counter-major 93;counter-reset:figure-counter-minor;}
  h1[data-number="94"]{counter-set:figure-counter-major 94;counter-reset:figure-counter-minor;}
  h1[data-number="95"]{counter-set:figure-counter-major 95;counter-reset:figure-counter-minor;}
  h1[data-number="96"]{counter-set:figure-counter-major 96;counter-reset:figure-counter-minor;}
  h1[data-number="97"]{counter-set:figure-counter-major 97;counter-reset:figure-counter-minor;}
  h1[data-number="98"]{counter-set:figure-counter-major 98;counter-reset:figure-counter-minor;}
  h1[data-number="99"]{counter-set:figure-counter-major 99;counter-reset:figure-counter-minor;}


  </style>
  <!-- BG custom styling for the wide body variant -->
  <!-- Gets appended after bg-css.html -->

  <style type="text/css">
  body {
      max-width: inherit;
  }
  </style>
</head>
<body>
<div style="text-align:center"><span><a href="github-forking-and-pull-requests.html" rel="prev">Prev</a> | </span><a href="index.html">Contents</a><span> | <a href="reset.html" rel="next">Next</a></span></div><hr>
<h1 data-number="18" id="revert"><span class="header-section-number">18</span> Reverting: Undoing Commits</h1>
<p></p>
<p>Let’s say you made some changes and committed them, but they actually botched everything up. You want to just revert to an earlier version of the file.</p>
<p>There’s the cheesy way to do this that might have already occurred to you: detach the head to an earlier commit where the file was like you wanted it, make a copy of the file someplace safe, then reattach the head to <code>main</code>, then copy the old file over the existing one in your working tree. And add and commit! And this would work…</p>
<p>But let’s be more proper, and we can do that with <code>git revert</code>.</p>
<p>Reverting allows us to actually undo the changes of a single commit, even if it wasn’t the one that got you to the point you’re at now. That is, let’s say you’ve made 30 commits, but it turns out you don’t actually want commit number 4 to be there any longer. You can revert just that one!</p>
<p>Performing a standard revert will actually make a new commit, and doesn’t erase any old commits. In this way, it’s not rewriting history so using this method is safe to revert commits that have already been pushed.</p>
<h2 data-number="18.1" id="performing-the-revert"><span class="header-section-number">18.1</span> Performing the Revert</h2>
<p>It’s pretty straightforward. You look back in the log for the commit ID you’re interested in reverting, and revert it.</p>
<p>For example, if you have this in the log:</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb225-1"><a href="revert.html#cb225-1" aria-hidden="true" tabindex="-1"></a>commit 9fef4fe6d42b91c12b5217829e8d98d738f84d61</span>
<span id="cb225-2"><a href="revert.html#cb225-2" aria-hidden="true" tabindex="-1"></a>Author: Brian &quot;Beej Jorgensen&quot; Hall &lt;beej@beej.us&gt;</span>
<span id="cb225-3"><a href="revert.html#cb225-3" aria-hidden="true" tabindex="-1"></a>Date:   Fri Jul 26 16:59:44 2024 -0700</span>
<span id="cb225-4"><a href="revert.html#cb225-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb225-5"><a href="revert.html#cb225-5" aria-hidden="true" tabindex="-1"></a>    Added Line 50</span></code></pre></div>
<p>and you decided you didn’t want that commit any longer, you could revert it by its commit ID. Here I’ll just type the first few characters of the hash because that’s enough:</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb226-1"><a href="revert.html#cb226-1" aria-hidden="true" tabindex="-1"></a>$ git revert 9fef4</span>
<span id="cb226-2"><a href="revert.html#cb226-2" aria-hidden="true" tabindex="-1"></a>  Auto-merging foo.txt</span>
<span id="cb226-3"><a href="revert.html#cb226-3" aria-hidden="true" tabindex="-1"></a>  [main de415f4] Revert &quot;Added Line 50&quot;</span>
<span id="cb226-4"><a href="revert.html#cb226-4" aria-hidden="true" tabindex="-1"></a>   1 file changed, 1 deletion(-)</span></code></pre></div>
<p>There’s no conflict (more on that, below) in this example, so it just pops me into my editor and allows me to edit the commit message. Remember that the revert makes a new commit!</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode numberSource default numberLines"><code class="sourceCode default"><span id="cb227-1"><a href="revert.html#cb227-1"></a>Revert &quot;Added Line 50&quot;</span>
<span id="cb227-2"><a href="revert.html#cb227-2"></a></span>
<span id="cb227-3"><a href="revert.html#cb227-3"></a>This reverts commit 9fef4fe6d42b91c12b5217829e8d98d738f84d61.</span></code></pre></div>
<p>I save the file and <code>git status</code> tells me we’re clean.</p>
<p>Another <code>git log</code> will show the revert commit:</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb228-1"><a href="revert.html#cb228-1" aria-hidden="true" tabindex="-1"></a>$ git log</span>
<span id="cb228-2"><a href="revert.html#cb228-2" aria-hidden="true" tabindex="-1"></a>  commit de415f4f0cd645b1e551a6ac56e13f73850c88db (HEAD -&gt; main)</span>
<span id="cb228-3"><a href="revert.html#cb228-3" aria-hidden="true" tabindex="-1"></a>  Author: Brian &quot;Beej Jorgensen&quot; Hall &lt;beej@beej.us&gt;</span>
<span id="cb228-4"><a href="revert.html#cb228-4" aria-hidden="true" tabindex="-1"></a>  Date:   Fri Jul 26 17:01:54 2024 -0700</span>
<span id="cb228-5"><a href="revert.html#cb228-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb228-6"><a href="revert.html#cb228-6" aria-hidden="true" tabindex="-1"></a>    Revert &quot;Added Line 50&quot;</span>
<span id="cb228-7"><a href="revert.html#cb228-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb228-8"><a href="revert.html#cb228-8" aria-hidden="true" tabindex="-1"></a>    This reverts commit 9fef4fe6d42b91c12b5217829e8d98d738f84d61.</span></code></pre></div>
<p>You can revert any commit, even commits that were themselves reverts! Revert the revert!</p>
<p>Now that was an example where the revert went smoothly. But what if you’ve made some changes since the revert commit that were close to the changes in the revert commit itself? Can it conflict? Of course it can!</p>
<h2 data-number="18.2" id="revert-conflicts"><span class="header-section-number">18.2</span> Revert Conflicts</h2>
<p></p>
<p>Like with merging or rebasing, you can have conflicts with a revert. If you’re not familiar with conflict resolution, please review the <a href="rebase.html#rebasing-conflicts">Rebasing Conflicts</a> section, because it’s closest to how revert conflicts work.</p>
<p>An example of a conflict might be that if you changed line 37 in your code, then revert a commit that also changed line 37 in the code, Git can’t figure out what to do with that. Should it revert it to what it was before your commit, or before the earlier commit?</p>
<p>So there’s a revert conflict that must be resolved. And it works very much like the other conflicts we’ve already seen.</p>
<p>If you try to revert and get a conflict, it will say something like this:</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb229-1"><a href="revert.html#cb229-1" aria-hidden="true" tabindex="-1"></a>$ git revert 5af89a8985c001ec02409d77e093fb7be45495ff</span>
<span id="cb229-2"><a href="revert.html#cb229-2" aria-hidden="true" tabindex="-1"></a>  Auto-merging foo.txt</span>
<span id="cb229-3"><a href="revert.html#cb229-3" aria-hidden="true" tabindex="-1"></a>  CONFLICT (content): Merge conflict in foo.txt</span>
<span id="cb229-4"><a href="revert.html#cb229-4" aria-hidden="true" tabindex="-1"></a>  error: could not revert 5af89a8... Added Line 69</span>
<span id="cb229-5"><a href="revert.html#cb229-5" aria-hidden="true" tabindex="-1"></a>  hint: After resolving the conflicts, mark them with</span>
<span id="cb229-6"><a href="revert.html#cb229-6" aria-hidden="true" tabindex="-1"></a>  hint: &quot;git add/rm &lt;pathspec&gt;&quot;, then run</span>
<span id="cb229-7"><a href="revert.html#cb229-7" aria-hidden="true" tabindex="-1"></a>  hint: &quot;git revert --continue&quot;.</span>
<span id="cb229-8"><a href="revert.html#cb229-8" aria-hidden="true" tabindex="-1"></a>  hint: You can instead skip this commit with &quot;git revert --skip&quot;.</span>
<span id="cb229-9"><a href="revert.html#cb229-9" aria-hidden="true" tabindex="-1"></a>  hint: To abort and get back to the state before &quot;git revert&quot;,</span>
<span id="cb229-10"><a href="revert.html#cb229-10" aria-hidden="true" tabindex="-1"></a>  hint: run &quot;git revert --abort&quot;.</span>
<span id="cb229-11"><a href="revert.html#cb229-11" aria-hidden="true" tabindex="-1"></a>  hint: Disable this message with</span>
<span id="cb229-12"><a href="revert.html#cb229-12" aria-hidden="true" tabindex="-1"></a>  hint: &quot;git config advice.mergeConflict false&quot;</span></code></pre></div>
<p>And it points out we have a few options here. We can get even more info with our friend <code>git status</code>:</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb230-1"><a href="revert.html#cb230-1" aria-hidden="true" tabindex="-1"></a>$ git status</span>
<span id="cb230-2"><a href="revert.html#cb230-2" aria-hidden="true" tabindex="-1"></a>  On branch main</span>
<span id="cb230-3"><a href="revert.html#cb230-3" aria-hidden="true" tabindex="-1"></a>  You are currently reverting commit 5af89a8.</span>
<span id="cb230-4"><a href="revert.html#cb230-4" aria-hidden="true" tabindex="-1"></a>    (fix conflicts and run &quot;git revert --continue&quot;)</span>
<span id="cb230-5"><a href="revert.html#cb230-5" aria-hidden="true" tabindex="-1"></a>    (use &quot;git revert --skip&quot; to skip this patch)</span>
<span id="cb230-6"><a href="revert.html#cb230-6" aria-hidden="true" tabindex="-1"></a>    (use &quot;git revert --abort&quot; to cancel the revert operation)</span>
<span id="cb230-7"><a href="revert.html#cb230-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb230-8"><a href="revert.html#cb230-8" aria-hidden="true" tabindex="-1"></a>  Unmerged paths:</span>
<span id="cb230-9"><a href="revert.html#cb230-9" aria-hidden="true" tabindex="-1"></a>    (use &quot;git restore --staged &lt;file&gt;...&quot; to unstage)</span>
<span id="cb230-10"><a href="revert.html#cb230-10" aria-hidden="true" tabindex="-1"></a>    (use &quot;git add &lt;file&gt;...&quot; to mark resolution)</span>
<span id="cb230-11"><a href="revert.html#cb230-11" aria-hidden="true" tabindex="-1"></a>      both modified:   foo.txt</span>
<span id="cb230-12"><a href="revert.html#cb230-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb230-13"><a href="revert.html#cb230-13" aria-hidden="true" tabindex="-1"></a>  no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</span></code></pre></div>
<p>So what we can do here is one of these:</p>
<ul>
<li>Edit the file, fix the conflict, then <code>git add</code> it, then <code>git revert --continue</code> to go to the next commit to be reverted (if any).</li>
<li>Bail out completely with <code>git revert --abort</code>.</li>
<li>Skip reverting this particular commit with <code>git revert --skip</code>. If you skip all the commits you were reverting, it’s just like an abort.</li>
</ul>
<p>If you fix the conflict, you’ll get to enter a commit message for the new commit just like before.</p>
<p></p>
<h2 data-number="18.3" id="reverting-multiple-commits"><span class="header-section-number">18.3</span> Reverting Multiple Commits</h2>
<p></p>
<p>You can specify multiple reverts at the same time on the command line.</p>
<p>Here’s an example that reverts two commits:</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb231-1"><a href="revert.html#cb231-1" aria-hidden="true" tabindex="-1"></a>$ git revert 4c0b3 81d2a</span>
<span id="cb231-2"><a href="revert.html#cb231-2" aria-hidden="true" tabindex="-1"></a>  Auto-merging foo.txt</span>
<span id="cb231-3"><a href="revert.html#cb231-3" aria-hidden="true" tabindex="-1"></a>  [main ab3169d] Revert &quot;Added Line 50&quot;</span>
<span id="cb231-4"><a href="revert.html#cb231-4" aria-hidden="true" tabindex="-1"></a>   1 file changed, 1 deletion(-)</span>
<span id="cb231-5"><a href="revert.html#cb231-5" aria-hidden="true" tabindex="-1"></a>  Auto-merging foo.txt</span>
<span id="cb231-6"><a href="revert.html#cb231-6" aria-hidden="true" tabindex="-1"></a>  [main b63f003] Revert &quot;Added Line 10&quot;</span>
<span id="cb231-7"><a href="revert.html#cb231-7" aria-hidden="true" tabindex="-1"></a>   1 file changed, 1 deletion(-)</span></code></pre></div>
<p>And there will be two new revert commits after that. You’ll edit two revert commit messages over the course of that revert.</p>
<p>You can also specify a range of commits. Be sure to do this in oldest-to-newest order, or you’ll get an <code>empty commit set passed</code> error.</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb232-1"><a href="revert.html#cb232-1" aria-hidden="true" tabindex="-1"></a>$ git revert 4c0b3^..81d2a</span>
<span id="cb232-2"><a href="revert.html#cb232-2" aria-hidden="true" tabindex="-1"></a>  Auto-merging foo.txt</span>
<span id="cb232-3"><a href="revert.html#cb232-3" aria-hidden="true" tabindex="-1"></a>  [main ab3169d] Revert &quot;Added Line 50&quot;</span>
<span id="cb232-4"><a href="revert.html#cb232-4" aria-hidden="true" tabindex="-1"></a>   1 file changed, 1 deletion(-)</span>
<span id="cb232-5"><a href="revert.html#cb232-5" aria-hidden="true" tabindex="-1"></a>  Auto-merging foo.txt</span>
<span id="cb232-6"><a href="revert.html#cb232-6" aria-hidden="true" tabindex="-1"></a>  [main b63f003] Revert &quot;Added Line 10&quot;</span>
<span id="cb232-7"><a href="revert.html#cb232-7" aria-hidden="true" tabindex="-1"></a>   1 file changed, 1 deletion(-)</span></code></pre></div>
<p>Again, that will make a lot of commits, one per revert. You can <a href="rebase.html#squashing-commits">squash those commits</a> if you want to, or you can use <code>-n</code> (“no commit”) to keep Git from committing until you’re ready.</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb233-1"><a href="revert.html#cb233-1" aria-hidden="true" tabindex="-1"></a>$ git revert -n ee71e 123e8</span>
<span id="cb233-2"><a href="revert.html#cb233-2" aria-hidden="true" tabindex="-1"></a>  Auto-merging foo.txt</span>
<span id="cb233-3"><a href="revert.html#cb233-3" aria-hidden="true" tabindex="-1"></a>  Auto-merging foo.txt</span></code></pre></div>
<p>At this point, the file is staged with those two commits reverted. And you can now make a single commit that holds them. And you can do the same thing specifying a range.</p>
<p>Of course, there might a conflict, and you’ll have to resolve those in the super fun way we’ve already discussed.</p>
<p> </p>
<!-- BG_NEW_CHAPTER -->
<hr><div style="text-align:center"><span><a href="github-forking-and-pull-requests.html" rel="prev">Prev</a> | </span><a href="index.html">Contents</a><span> | <a href="reset.html" rel="next">Next</a></span></div></body>
</html>
