<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Beej's Guide to C Programming</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <!-- BG custom styling -->
  <style type="text/css">
  /* Fix for line numbers not visible */
  pre.numberSource code > span {
      left: -1em;
  }
  pre.numberSource {
      margin-left: initial;
  }

  /* Put some space after the section numbers */
  span.toc-section-number::after {
      content: "\a0\a0\a0";  /* non-breaking whitespace */
  }

  /* Hide underlines on code number links */
  pre > code.sourceCode > span > a:first-child::before {
      text-decoration: none;
  }

  /* Color the source blocks */
  div.sourceCode {
      background-color: #f0f0f0;
  }

  /* Fix iOS big text rendering issue */
  pre > code.sourceCode > span {
      display: initial;
  }


  /* Color the inline code */
  code:not(.sourceCode) {
      background: #f0f0f0;
      padding-left: 0.2em;
      padding-right: 0.2em;
      border-radius: 0.2em;
  }

  pre.sourceCode {
      border: 1px solid #ccc;
      padding: 0.5em;
      border-radius: 0.2em;
  }

  /* Keep code tags from wrapping in tables */
  tbody code {
      white-space: nowrap;
  }

  /* Prevent hyphenation and hyphen breaks in code*/
  code {
      word-break: keep-all;
  }

  td {
      vertical-align: top;
  }

  body {
      font-size: 12pt;
      max-width: 43em;
      font-family: sans-serif;
  }

  html {
      background: #f9f9f9;
  }

  figure > embed {
      max-width: 100%;
  }

  figure {
      text-align: center;
      margin-top: 2em;
      margin-bottom: 2em;
  }

  figcaption {
      font-size: 0.9em;
      font-style: italic;
      margin-top: 0.6em;
  }

  body {
      counter-reset: figure-counter-major;
      counter-reset: figure-counter-minor;
  }

  figure {
      counter-increment: figure-counter-minor;
  }

  figcaption::before {
      content: "Figure " counter(figure-counter-major) "." counter(figure-counter-minor) ": ";
  }

  blockquote {
      border-left: 2px solid #bbb;
      color: #444;
  }

  /* Contents */

  nav[role="doc-toc"] > ul > li {
    font-weight: bold;
    margin-top: 1.2em;
  }

  nav[role="doc-toc"] > ul > li:first {
    font-weight: bold;
    margin-top: initial;
  }

  nav[role="doc-toc"] > ul > li > ul {
    font-weight: normal;
    margin-top: 0.3em;
  }

  /*
  In multipage, we need to reset the figure counter to the chapter
  number. Luckily, this is in the <h1 data-number> attribute. Unluckily,
  there is no way to get this in a general way.

  This doesn't work:

    h1[data-number] {
      counter-set: figure-counter-major attr(data-number);
    }

  Nor this:

    h1[data-number] {
      --figure-counter-major-value: attr(data-number);
      counter-set: figure-counter-major var(--figure-counter-major-value);
    }

  So, dumbly, we have a bunch of rules for all these sections, up to the
  maximum possible section.

  Here's a program to generate them:

    for (let i = 1; i < 100; i++)
        console.log(`h1[data-number="${i}"]{counter-set:figure-counter-major ${i};counter-reset:figure-counter-minor;}`);

  Note to self: never write a book with more than 99 frickin' chapters.
  */

  h1[data-number="1"]{counter-set:figure-counter-major 1;counter-reset:figure-counter-minor;}
  h1[data-number="2"]{counter-set:figure-counter-major 2;counter-reset:figure-counter-minor;}
  h1[data-number="3"]{counter-set:figure-counter-major 3;counter-reset:figure-counter-minor;}
  h1[data-number="4"]{counter-set:figure-counter-major 4;counter-reset:figure-counter-minor;}
  h1[data-number="5"]{counter-set:figure-counter-major 5;counter-reset:figure-counter-minor;}
  h1[data-number="6"]{counter-set:figure-counter-major 6;counter-reset:figure-counter-minor;}
  h1[data-number="7"]{counter-set:figure-counter-major 7;counter-reset:figure-counter-minor;}
  h1[data-number="8"]{counter-set:figure-counter-major 8;counter-reset:figure-counter-minor;}
  h1[data-number="9"]{counter-set:figure-counter-major 9;counter-reset:figure-counter-minor;}
  h1[data-number="10"]{counter-set:figure-counter-major 10;counter-reset:figure-counter-minor;}
  h1[data-number="11"]{counter-set:figure-counter-major 11;counter-reset:figure-counter-minor;}
  h1[data-number="12"]{counter-set:figure-counter-major 12;counter-reset:figure-counter-minor;}
  h1[data-number="13"]{counter-set:figure-counter-major 13;counter-reset:figure-counter-minor;}
  h1[data-number="14"]{counter-set:figure-counter-major 14;counter-reset:figure-counter-minor;}
  h1[data-number="15"]{counter-set:figure-counter-major 15;counter-reset:figure-counter-minor;}
  h1[data-number="16"]{counter-set:figure-counter-major 16;counter-reset:figure-counter-minor;}
  h1[data-number="17"]{counter-set:figure-counter-major 17;counter-reset:figure-counter-minor;}
  h1[data-number="18"]{counter-set:figure-counter-major 18;counter-reset:figure-counter-minor;}
  h1[data-number="19"]{counter-set:figure-counter-major 19;counter-reset:figure-counter-minor;}
  h1[data-number="20"]{counter-set:figure-counter-major 20;counter-reset:figure-counter-minor;}
  h1[data-number="21"]{counter-set:figure-counter-major 21;counter-reset:figure-counter-minor;}
  h1[data-number="22"]{counter-set:figure-counter-major 22;counter-reset:figure-counter-minor;}
  h1[data-number="23"]{counter-set:figure-counter-major 23;counter-reset:figure-counter-minor;}
  h1[data-number="24"]{counter-set:figure-counter-major 24;counter-reset:figure-counter-minor;}
  h1[data-number="25"]{counter-set:figure-counter-major 25;counter-reset:figure-counter-minor;}
  h1[data-number="26"]{counter-set:figure-counter-major 26;counter-reset:figure-counter-minor;}
  h1[data-number="27"]{counter-set:figure-counter-major 27;counter-reset:figure-counter-minor;}
  h1[data-number="28"]{counter-set:figure-counter-major 28;counter-reset:figure-counter-minor;}
  h1[data-number="29"]{counter-set:figure-counter-major 29;counter-reset:figure-counter-minor;}
  h1[data-number="30"]{counter-set:figure-counter-major 30;counter-reset:figure-counter-minor;}
  h1[data-number="31"]{counter-set:figure-counter-major 31;counter-reset:figure-counter-minor;}
  h1[data-number="32"]{counter-set:figure-counter-major 32;counter-reset:figure-counter-minor;}
  h1[data-number="33"]{counter-set:figure-counter-major 33;counter-reset:figure-counter-minor;}
  h1[data-number="34"]{counter-set:figure-counter-major 34;counter-reset:figure-counter-minor;}
  h1[data-number="35"]{counter-set:figure-counter-major 35;counter-reset:figure-counter-minor;}
  h1[data-number="36"]{counter-set:figure-counter-major 36;counter-reset:figure-counter-minor;}
  h1[data-number="37"]{counter-set:figure-counter-major 37;counter-reset:figure-counter-minor;}
  h1[data-number="38"]{counter-set:figure-counter-major 38;counter-reset:figure-counter-minor;}
  h1[data-number="39"]{counter-set:figure-counter-major 39;counter-reset:figure-counter-minor;}
  h1[data-number="40"]{counter-set:figure-counter-major 40;counter-reset:figure-counter-minor;}
  h1[data-number="41"]{counter-set:figure-counter-major 41;counter-reset:figure-counter-minor;}
  h1[data-number="42"]{counter-set:figure-counter-major 42;counter-reset:figure-counter-minor;}
  h1[data-number="43"]{counter-set:figure-counter-major 43;counter-reset:figure-counter-minor;}
  h1[data-number="44"]{counter-set:figure-counter-major 44;counter-reset:figure-counter-minor;}
  h1[data-number="45"]{counter-set:figure-counter-major 45;counter-reset:figure-counter-minor;}
  h1[data-number="46"]{counter-set:figure-counter-major 46;counter-reset:figure-counter-minor;}
  h1[data-number="47"]{counter-set:figure-counter-major 47;counter-reset:figure-counter-minor;}
  h1[data-number="48"]{counter-set:figure-counter-major 48;counter-reset:figure-counter-minor;}
  h1[data-number="49"]{counter-set:figure-counter-major 49;counter-reset:figure-counter-minor;}
  h1[data-number="50"]{counter-set:figure-counter-major 50;counter-reset:figure-counter-minor;}
  h1[data-number="51"]{counter-set:figure-counter-major 51;counter-reset:figure-counter-minor;}
  h1[data-number="52"]{counter-set:figure-counter-major 52;counter-reset:figure-counter-minor;}
  h1[data-number="53"]{counter-set:figure-counter-major 53;counter-reset:figure-counter-minor;}
  h1[data-number="54"]{counter-set:figure-counter-major 54;counter-reset:figure-counter-minor;}
  h1[data-number="55"]{counter-set:figure-counter-major 55;counter-reset:figure-counter-minor;}
  h1[data-number="56"]{counter-set:figure-counter-major 56;counter-reset:figure-counter-minor;}
  h1[data-number="57"]{counter-set:figure-counter-major 57;counter-reset:figure-counter-minor;}
  h1[data-number="58"]{counter-set:figure-counter-major 58;counter-reset:figure-counter-minor;}
  h1[data-number="59"]{counter-set:figure-counter-major 59;counter-reset:figure-counter-minor;}
  h1[data-number="60"]{counter-set:figure-counter-major 60;counter-reset:figure-counter-minor;}
  h1[data-number="61"]{counter-set:figure-counter-major 61;counter-reset:figure-counter-minor;}
  h1[data-number="62"]{counter-set:figure-counter-major 62;counter-reset:figure-counter-minor;}
  h1[data-number="63"]{counter-set:figure-counter-major 63;counter-reset:figure-counter-minor;}
  h1[data-number="64"]{counter-set:figure-counter-major 64;counter-reset:figure-counter-minor;}
  h1[data-number="65"]{counter-set:figure-counter-major 65;counter-reset:figure-counter-minor;}
  h1[data-number="66"]{counter-set:figure-counter-major 66;counter-reset:figure-counter-minor;}
  h1[data-number="67"]{counter-set:figure-counter-major 67;counter-reset:figure-counter-minor;}
  h1[data-number="68"]{counter-set:figure-counter-major 68;counter-reset:figure-counter-minor;}
  h1[data-number="69"]{counter-set:figure-counter-major 69;counter-reset:figure-counter-minor;}
  h1[data-number="70"]{counter-set:figure-counter-major 70;counter-reset:figure-counter-minor;}
  h1[data-number="71"]{counter-set:figure-counter-major 71;counter-reset:figure-counter-minor;}
  h1[data-number="72"]{counter-set:figure-counter-major 72;counter-reset:figure-counter-minor;}
  h1[data-number="73"]{counter-set:figure-counter-major 73;counter-reset:figure-counter-minor;}
  h1[data-number="74"]{counter-set:figure-counter-major 74;counter-reset:figure-counter-minor;}
  h1[data-number="75"]{counter-set:figure-counter-major 75;counter-reset:figure-counter-minor;}
  h1[data-number="76"]{counter-set:figure-counter-major 76;counter-reset:figure-counter-minor;}
  h1[data-number="77"]{counter-set:figure-counter-major 77;counter-reset:figure-counter-minor;}
  h1[data-number="78"]{counter-set:figure-counter-major 78;counter-reset:figure-counter-minor;}
  h1[data-number="79"]{counter-set:figure-counter-major 79;counter-reset:figure-counter-minor;}
  h1[data-number="80"]{counter-set:figure-counter-major 80;counter-reset:figure-counter-minor;}
  h1[data-number="81"]{counter-set:figure-counter-major 81;counter-reset:figure-counter-minor;}
  h1[data-number="82"]{counter-set:figure-counter-major 82;counter-reset:figure-counter-minor;}
  h1[data-number="83"]{counter-set:figure-counter-major 83;counter-reset:figure-counter-minor;}
  h1[data-number="84"]{counter-set:figure-counter-major 84;counter-reset:figure-counter-minor;}
  h1[data-number="85"]{counter-set:figure-counter-major 85;counter-reset:figure-counter-minor;}
  h1[data-number="86"]{counter-set:figure-counter-major 86;counter-reset:figure-counter-minor;}
  h1[data-number="87"]{counter-set:figure-counter-major 87;counter-reset:figure-counter-minor;}
  h1[data-number="88"]{counter-set:figure-counter-major 88;counter-reset:figure-counter-minor;}
  h1[data-number="89"]{counter-set:figure-counter-major 89;counter-reset:figure-counter-minor;}
  h1[data-number="90"]{counter-set:figure-counter-major 90;counter-reset:figure-counter-minor;}
  h1[data-number="91"]{counter-set:figure-counter-major 91;counter-reset:figure-counter-minor;}
  h1[data-number="92"]{counter-set:figure-counter-major 92;counter-reset:figure-counter-minor;}
  h1[data-number="93"]{counter-set:figure-counter-major 93;counter-reset:figure-counter-minor;}
  h1[data-number="94"]{counter-set:figure-counter-major 94;counter-reset:figure-counter-minor;}
  h1[data-number="95"]{counter-set:figure-counter-major 95;counter-reset:figure-counter-minor;}
  h1[data-number="96"]{counter-set:figure-counter-major 96;counter-reset:figure-counter-minor;}
  h1[data-number="97"]{counter-set:figure-counter-major 97;counter-reset:figure-counter-minor;}
  h1[data-number="98"]{counter-set:figure-counter-major 98;counter-reset:figure-counter-minor;}
  h1[data-number="99"]{counter-set:figure-counter-major 99;counter-reset:figure-counter-minor;}


  </style>
  <!-- BG custom styling for the wide body variant -->
  <!-- Gets appended after bg-css.html -->

  <style type="text/css">
  body {
      max-width: inherit;
  }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
</head>
<body>
<div style="text-align:center"><span><a href="stdio.html" rel="prev">Prev</a> | </span><a href="index.html">Contents</a><span> | <a href="stdnoreturn.html" rel="next">Next</a></span></div><hr>
<h1 data-number="24" id="stdlib"><span class="header-section-number">24</span> <code>&lt;stdlib.h&gt;</code> Standard Library Functions</h1>
<p></p>
<p>Some of the following functions have variants that handle different types: <code>atoi()</code>, <code>strtod()</code>, <code>strtol()</code>, <code>abs()</code>, and <code>div()</code>. Only a single one is listed here for brevity.</p>
<table>
<colgroup>
<col style="width: 26%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="stdlib.html#man-exit"><code>_Exit()</code></a></td>
<td>Exit the currently-running program and don’t look back</td>
</tr>
<tr class="even">
<td><a href="stdlib.html#man-abort"><code>abort()</code></a></td>
<td>Abruptly end program execution</td>
</tr>
<tr class="odd">
<td><a href="stdlib.html#man-abs"><code>abs()</code></a></td>
<td>Compute the absolute value of an integer</td>
</tr>
<tr class="even">
<td><a href="stdlib.html#man-aligned_alloc"><code>aligned_alloc()</code></a></td>
<td>Allocate specifically-aligned memory</td>
</tr>
<tr class="odd">
<td><a href="stdlib.html#man-atexit"><code>at_quick_exit()</code></a></td>
<td>Set up handlers to run when the program quickly exits</td>
</tr>
<tr class="even">
<td><a href="stdlib.html#man-atexit"><code>atexit()</code></a></td>
<td>Set up handlers to run when the program exits</td>
</tr>
<tr class="odd">
<td><a href="stdlib.html#man-atof"><code>atof()</code></a></td>
<td>Convert a string to a floating point value</td>
</tr>
<tr class="even">
<td><a href="stdlib.html#man-atoi"><code>atoi()</code></a></td>
<td>Convert an integer in a string into a integer type</td>
</tr>
<tr class="odd">
<td><a href="stdlib.html#man-bsearch"><code>bsearch()</code></a></td>
<td>Binary Search (maybe) an array of objects</td>
</tr>
<tr class="even">
<td><a href="stdlib.html#man-malloc"><code>calloc()</code></a></td>
<td>Allocate and clear memory for arbitrary use</td>
</tr>
<tr class="odd">
<td><a href="stdlib.html#man-div"><code>div()</code></a></td>
<td>Compute the quotient and remainder of two numbers</td>
</tr>
<tr class="even">
<td><a href="stdlib.html#man-exit"><code>exit()</code></a></td>
<td>Exit the currently-running program</td>
</tr>
<tr class="odd">
<td><a href="stdlib.html#man-free"><code>free()</code></a></td>
<td>Free a memory region</td>
</tr>
<tr class="even">
<td><a href="stdlib.html#man-getenv"><code>getenv()</code></a></td>
<td>Get the value of an environment variable</td>
</tr>
<tr class="odd">
<td><a href="man-malloc"><code>malloc()</code></a></td>
<td>Allocate memory for arbitrary use</td>
</tr>
<tr class="even">
<td><a href="stdlib.html#man-mblen"><code>mblen()</code></a></td>
<td>Return the number of bytes in a multibyte character</td>
</tr>
<tr class="odd">
<td><a href="stdlib.html#man-mbstowcs"><code>mbstowcs()</code></a></td>
<td>Convert a multibyte string to a wide character string</td>
</tr>
<tr class="even">
<td><a href="stdlib.html#man-mbtowc"><code>mbtowc()</code></a></td>
<td>Convert a multibyte character to a wide character</td>
</tr>
<tr class="odd">
<td><a href="stdlib.html#man-qsort"><code>qsort()</code></a></td>
<td>Quicksort (maybe) some data</td>
</tr>
<tr class="even">
<td><a href="stdlib.html#man-exit"><code>quick_exit()</code></a></td>
<td>Exit the currently-running program quickly</td>
</tr>
<tr class="odd">
<td><a href="stdlib.html#man-rand"><code>rand()</code></a></td>
<td>Return a pseudorandom number</td>
</tr>
<tr class="even">
<td><a href="stdlib.html#man-realloc"><code>realloc()</code></a></td>
<td>Resize a previously allocated stretch of memory</td>
</tr>
<tr class="odd">
<td><a href="stdlib.html#man-srand"><code>srand()</code></a></td>
<td>Seed the built-in pseudorandom number generator</td>
</tr>
<tr class="even">
<td><a href="stdlib.html#man-strtod"><code>strtod()</code></a></td>
<td>Convert a string to a floating point number</td>
</tr>
<tr class="odd">
<td><a href="stdlib.html#man-strtol"><code>strtol()</code></a></td>
<td>Convert a string to an integer</td>
</tr>
<tr class="even">
<td><a href="stdlib.html#man-system"><code>system()</code></a></td>
<td>Run an external program</td>
</tr>
<tr class="odd">
<td><a href="stdlib.html#man-wcstombs"><code>wcstombs()</code></a></td>
<td>Convert a wide character string to a multibyte string</td>
</tr>
<tr class="even">
<td><a href="stdlib.html#man-wctomb"><code>wctomb()</code></a></td>
<td>Convert a wide character to a multibyte character</td>
</tr>
</tbody>
</table>
<p>The <code>&lt;stdlib.h&gt;</code> header has all kinds of—dare I say—miscellaneous functions bundled into it. This functionality includes:</p>
<ul>
<li>Conversions from numbers to strings</li>
<li>Conversions from strings to numbers</li>
<li>Pseudorandom number generation</li>
<li>Dynamic memory allocation</li>
<li>Various ways to exit the program</li>
<li>Ability to run external programs</li>
<li>Binary search (or some fast search)</li>
<li>Quicksort (or some fast sort)</li>
<li>Integer arithmetic functions</li>
<li>Multibyte and wide character and string conversions</li>
</ul>
<p>So, you know… a little of everything.</p>
<h2 data-number="24.1" id="stdlib.h-types-and-macros"><span class="header-section-number">24.1</span> <code>&lt;stdlib.h&gt;</code> Types and Macros</h2>
<p>A couple new types and macros are introduced, though some of these might also be defined elsewhere:</p>
<p> </p>
<table>
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>size_t</code></td>
<td>Returned from <code>sizeof</code> and used elsewhere</td>
</tr>
<tr class="even">
<td><code>wchar_t</code></td>
<td>For wide character operations</td>
</tr>
<tr class="odd">
<td><code>div_t</code></td>
<td>For the <code>div()</code> function</td>
</tr>
<tr class="even">
<td><code>ldiv_t</code></td>
<td>For the <code>ldiv()</code> function</td>
</tr>
<tr class="odd">
<td><code>lldiv_t</code></td>
<td>for the <code>lldiv()</code> function</td>
</tr>
</tbody>
</table>
<p>And some macros:</p>
<p> </p>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>NULL</code></td>
<td>Our good pointer friend</td>
</tr>
<tr class="even">
<td><code>EXIT_SUCCESS</code></td>
<td>Good exit status when things go well</td>
</tr>
<tr class="odd">
<td><code>EXIT_FAILURE</code></td>
<td>Good exit status when things go poorly</td>
</tr>
<tr class="even">
<td><code>RAND_MAX</code></td>
<td>The maximum value that can be returned by the <code>rand()</code> function</td>
</tr>
<tr class="odd">
<td><code>MB_CUR_MAX</code></td>
<td>Maximum number of bytes in a multibyte character in the current locale</td>
</tr>
</tbody>
</table>
<p>And there you have it. Just a lot of fun, useful functions in here. Let’s check ’em out!</p>
<hr />
<h2 data-number="24.2" id="man-atof"><span class="header-section-number">24.2</span> <code>atof()</code></h2>
<p></p>
<p>Convert a string to a floating point value</p>
<h3 class="unnumbered unlisted" id="synopsis-174">Synopsis</h3>
<div class="sourceCode" id="cb606"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb606-1"><a href="stdlib.html#cb606-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb606-2"><a href="stdlib.html#cb606-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb606-3"><a href="stdlib.html#cb606-3" aria-hidden="true" tabindex="-1"></a><span class="dt">double</span> atof<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>nptr<span class="op">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-174">Description</h3>
<p>This stood for <a href="http://man.cat-v.org/unix-1st/3/atof">“ASCII-To-Floating” back in the day</a><a href="wctype.html#fn50" class="footnote-ref" id="fnref50" role="doc-noteref"><sup>50</sup></a>, but no one would dare to use such coarse language now.</p>
<p>But the gist is the same: we’re going to convert a string with numbers and (optionally) a decimal point into a floating point value. Leading whitespace is ignored, and translation stops at the first invalid character.</p>
<p>If the result doesn’t fit in a <code>double</code>, behavior is undefined.</p>
<p>It generally works as if you’d called <a href="stdlib.html#man-strtod"><code>strtod()</code></a>:</p>
<div class="sourceCode" id="cb607"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb607-1"><a href="stdlib.html#cb607-1" aria-hidden="true" tabindex="-1"></a>strtod<span class="op">(</span>nptr<span class="op">,</span> NULL<span class="op">)</span></span></code></pre></div>
<p>So check out <a href="stdlib.html#man-strtod">that reference page</a> for more info.</p>
<p>In fact, <code>strtod()</code> is just better and you should probably use that.</p>
<h3 class="unnumbered unlisted" id="return-value-172">Return Value</h3>
<p>Returns the string converted to a <code>double</code>.</p>
<h3 class="unnumbered unlisted" id="example-175">Example</h3>
<div class="sourceCode" id="cb608"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb608-1"><a href="stdlib.html#cb608-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb608-2"><a href="stdlib.html#cb608-2"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb608-3"><a href="stdlib.html#cb608-3"></a></span>
<span id="cb608-4"><a href="stdlib.html#cb608-4"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb608-5"><a href="stdlib.html#cb608-5"></a><span class="op">{</span></span>
<span id="cb608-6"><a href="stdlib.html#cb608-6"></a>    <span class="dt">double</span> x <span class="op">=</span> atof<span class="op">(</span><span class="st">&quot;3.141593&quot;</span><span class="op">);</span></span>
<span id="cb608-7"><a href="stdlib.html#cb608-7"></a></span>
<span id="cb608-8"><a href="stdlib.html#cb608-8"></a>    printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%f\n</span><span class="st">&quot;</span><span class="op">,</span> x<span class="op">);</span>  <span class="co">// 3.141593</span></span>
<span id="cb608-9"><a href="stdlib.html#cb608-9"></a><span class="op">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-164">See Also</h3>
<p><a href="stdlib.html#man-atoi"><code>atoi()</code></a>, <a href="stdlib.html#man-strtod"><code>strtod()</code></a></p>
<hr />
<h2 data-number="24.3" id="man-atoi"><span class="header-section-number">24.3</span> <code>atoi()</code>, <code>atol()</code>, <code>atoll()</code></h2>
<p> </p>
<p>Convert an integer in a string into a integer type</p>
<h3 class="unnumbered unlisted" id="synopsis-175">Synopsis</h3>
<div class="sourceCode" id="cb609"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb609-1"><a href="stdlib.html#cb609-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb609-2"><a href="stdlib.html#cb609-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb609-3"><a href="stdlib.html#cb609-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> atoi<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>nptr<span class="op">);</span></span>
<span id="cb609-4"><a href="stdlib.html#cb609-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb609-5"><a href="stdlib.html#cb609-5" aria-hidden="true" tabindex="-1"></a><span class="dt">long</span> <span class="dt">int</span> atol<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>nptr<span class="op">);</span></span>
<span id="cb609-6"><a href="stdlib.html#cb609-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb609-7"><a href="stdlib.html#cb609-7" aria-hidden="true" tabindex="-1"></a><span class="dt">long</span> <span class="dt">long</span> <span class="dt">int</span> atoll<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>nptr<span class="op">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-175">Description</h3>
<p>Back in the day, <code>atoi()</code> stood for <a href="http://man.cat-v.org/unix-1st/3/atoi">“ASCII-To_Integer”</a><a href="wctype.html#fn51" class="footnote-ref" id="fnref51" role="doc-noteref"><sup>51</sup></a> but now the spec makes no mention of that.</p>
<p>These functions take a string with a number in them and convert it to an integer of the specified return type. Leading whitespace is ignored. Translation stops at the first invalid character.</p>
<p>If the result doesn’t fit in the return type, behavior is undefined.</p>
<p>It generally works as if you’d called <a href="stdlib.html#man-strtol"><code>strtol()</code></a> family of functions:</p>
<div class="sourceCode" id="cb610"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb610-1"><a href="stdlib.html#cb610-1" aria-hidden="true" tabindex="-1"></a>atoi<span class="op">(</span>nptr<span class="op">)</span>                 <span class="co">// is basically the same as...</span></span>
<span id="cb610-2"><a href="stdlib.html#cb610-2" aria-hidden="true" tabindex="-1"></a><span class="op">(</span><span class="dt">int</span><span class="op">)</span>strtol<span class="op">(</span>nptr<span class="op">,</span> NULL<span class="op">,</span> <span class="dv">10</span><span class="op">)</span></span>
<span id="cb610-3"><a href="stdlib.html#cb610-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb610-4"><a href="stdlib.html#cb610-4" aria-hidden="true" tabindex="-1"></a>atol<span class="op">(</span>nptr<span class="op">)</span>                 <span class="co">// is basically the same as...</span></span>
<span id="cb610-5"><a href="stdlib.html#cb610-5" aria-hidden="true" tabindex="-1"></a>strtol<span class="op">(</span>nptr<span class="op">,</span> NULL<span class="op">,</span> <span class="dv">10</span><span class="op">)</span></span>
<span id="cb610-6"><a href="stdlib.html#cb610-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb610-7"><a href="stdlib.html#cb610-7" aria-hidden="true" tabindex="-1"></a>atoll<span class="op">(</span>nptr<span class="op">)</span>                <span class="co">// is basically the same as...</span></span>
<span id="cb610-8"><a href="stdlib.html#cb610-8" aria-hidden="true" tabindex="-1"></a>strtoll<span class="op">(</span>nptr<span class="op">,</span> NULL<span class="op">,</span> <span class="dv">10</span><span class="op">)</span></span></code></pre></div>
<p>Again, the <a href="stdlib.html#man-strtol"><code>strtol()</code></a> functions are generally better, so I recommend them instead of these.</p>
<h3 class="unnumbered unlisted" id="return-value-173">Return Value</h3>
<p>Returns an integer result corresponding to the return type.</p>
<h3 class="unnumbered unlisted" id="example-176">Example</h3>
<div class="sourceCode" id="cb611"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb611-1"><a href="stdlib.html#cb611-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb611-2"><a href="stdlib.html#cb611-2"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb611-3"><a href="stdlib.html#cb611-3"></a></span>
<span id="cb611-4"><a href="stdlib.html#cb611-4"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb611-5"><a href="stdlib.html#cb611-5"></a><span class="op">{</span></span>
<span id="cb611-6"><a href="stdlib.html#cb611-6"></a>    <span class="dt">int</span> x <span class="op">=</span> atoi<span class="op">(</span><span class="st">&quot;3490&quot;</span><span class="op">);</span></span>
<span id="cb611-7"><a href="stdlib.html#cb611-7"></a></span>
<span id="cb611-8"><a href="stdlib.html#cb611-8"></a>    printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> x<span class="op">);</span>  <span class="co">// 3490</span></span>
<span id="cb611-9"><a href="stdlib.html#cb611-9"></a><span class="op">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-165">See Also</h3>
<p><a href="stdlib.html#man-atof"><code>atof()</code></a>, <a href="stdlib.html#man-strtol"><code>strtol()</code></a></p>
<hr />
<h2 data-number="24.4" id="man-strtod"><span class="header-section-number">24.4</span> <code>strtod()</code>, <code>strtof()</code>, <code>strtold()</code></h2>
<p> </p>
<p>Convert a string to a floating point number</p>
<h3 class="unnumbered unlisted" id="synopsis-176">Synopsis</h3>
<div class="sourceCode" id="cb612"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb612-1"><a href="stdlib.html#cb612-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb612-2"><a href="stdlib.html#cb612-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb612-3"><a href="stdlib.html#cb612-3" aria-hidden="true" tabindex="-1"></a><span class="dt">double</span> strtod<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span> <span class="dt">restrict</span> nptr<span class="op">,</span> <span class="dt">char</span> <span class="op">**</span> <span class="dt">restrict</span> endptr<span class="op">);</span></span>
<span id="cb612-4"><a href="stdlib.html#cb612-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb612-5"><a href="stdlib.html#cb612-5" aria-hidden="true" tabindex="-1"></a><span class="dt">float</span> strtof<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span> <span class="dt">restrict</span> nptr<span class="op">,</span> <span class="dt">char</span> <span class="op">**</span> <span class="dt">restrict</span> endptr<span class="op">);</span></span>
<span id="cb612-6"><a href="stdlib.html#cb612-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb612-7"><a href="stdlib.html#cb612-7" aria-hidden="true" tabindex="-1"></a><span class="dt">long</span> <span class="dt">double</span> strtold<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span> <span class="dt">restrict</span> nptr<span class="op">,</span> <span class="dt">char</span> <span class="op">**</span> <span class="dt">restrict</span> endptr<span class="op">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-176">Description</h3>
<p>These are some neat functions that convert strings to floating point numbers (or even NaN or Infinity) and provide some error checking, besides.</p>
<p>Firstly, leading whitespace is skipped.</p>
<p>Then the functions attempt to convert characters into the floating point result. Finally, when an invalid character (or NUL character) is reached, they set <code>endptr</code> to point to the invalid character.</p>
<p>Set <code>endptr</code> to <code>NULL</code> if you don’t care about where the first invalid character is.</p>
<p>If you didn’t set <code>endptr</code> to <code>NULL</code>, it will point to a NUL character if the translation didn’t find any bad characters. That is:</p>
<div class="sourceCode" id="cb613"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb613-1"><a href="stdlib.html#cb613-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(*</span>endptr <span class="op">==</span> <span class="ch">&#39;</span><span class="sc">\0</span><span class="ch">&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb613-2"><a href="stdlib.html#cb613-2" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;What a perfectly-formed number!</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">);</span></span>
<span id="cb613-3"><a href="stdlib.html#cb613-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb613-4"><a href="stdlib.html#cb613-4" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;I found badness in your number: </span><span class="sc">\&quot;%s\&quot;\n</span><span class="st">&quot;</span><span class="op">,</span> endptr<span class="op">);</span></span>
<span id="cb613-5"><a href="stdlib.html#cb613-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>But guess what! You can also translate strings into special values, like NaN and Infinity!</p>
<p>If <code>nptr</code> points to a string containing <code>INF</code> or <code>INFINITY</code> (upper or lowercase), the value for Infinity will be returned.</p>
<p>If <code>nptr</code> points to a string containing <code>NAN</code>, then (a quiet, non-signalling) NaN will be returned. You can tag the <code>NAN</code> with a sequence of characters from the set <code>0</code>-<code>9</code>, <code>a</code>-<code>z</code>, <code>A</code>-<code>Z</code>, and <code>_</code> by enclosing them in parens:</p>
<div class="sourceCode" id="cb614"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb614-1"><a href="stdlib.html#cb614-1" aria-hidden="true" tabindex="-1"></a>NAN<span class="op">(</span>foobar_3490<span class="op">)</span></span></code></pre></div>
<p>What your compiler does with this is implementation-defined, but it can be used to specify different kinds of NaN.</p>
<p>You can also specify a number in hexadecimal with a power-of-two exponent (<span class="math inline">\(2^x\)</span>) if you lead with <code>0x</code> (or <code>0X</code>). For the exponent, use a <code>p</code> followed by a base 10 exponent. (You can’t use <code>e</code> because that’s a valid hex digit!)</p>
<p>Example:</p>
<div class="sourceCode" id="cb615"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb615-1"><a href="stdlib.html#cb615-1" aria-hidden="true" tabindex="-1"></a><span class="fl">0xabc.123p15</span></span></code></pre></div>
<p>Which computes to <span class="math inline">\(0xabc.123\times2^{15}\)</span>.</p>
<p>You can put in <code>FLT_DECIMAL_DIG</code>, <code>DBL_DECIMAL_DIG</code>, or <code>LDBL_DECIMAL_DIG</code> digits and get a correctly-rounded result for the type.</p>
<h3 class="unnumbered unlisted" id="return-value-174">Return Value</h3>
<p>Returns the converted number. If there was no number, returns <code>0</code>. <code>endptr</code> is set to point to the first invalid character, or the NUL terminator if all characters were consumed.</p>
<p>If there’s an overflow, <code>HUGE_VAL</code>, <code>HUGE_VALF</code>, or <code>HUGE_VALL</code> is returned, signed like the input, and <code>errno</code> is set to <code>ERANGE</code>.</p>
<p>If there’s an underflow, it returns the smallest number closest to zero with the input sign. <code>errno</code> may be set to <code>ERANGE</code>.</p>
<h3 class="unnumbered unlisted" id="example-177">Example</h3>
<div class="sourceCode" id="cb616"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb616-1"><a href="stdlib.html#cb616-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb616-2"><a href="stdlib.html#cb616-2"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb616-3"><a href="stdlib.html#cb616-3"></a></span>
<span id="cb616-4"><a href="stdlib.html#cb616-4"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb616-5"><a href="stdlib.html#cb616-5"></a><span class="op">{</span></span>
<span id="cb616-6"><a href="stdlib.html#cb616-6"></a>    <span class="dt">char</span> <span class="op">*</span>inp <span class="op">=</span> <span class="st">&quot;   123.4567beej&quot;</span><span class="op">;</span></span>
<span id="cb616-7"><a href="stdlib.html#cb616-7"></a>    <span class="dt">char</span> <span class="op">*</span>badchar<span class="op">;</span></span>
<span id="cb616-8"><a href="stdlib.html#cb616-8"></a></span>
<span id="cb616-9"><a href="stdlib.html#cb616-9"></a>    <span class="dt">double</span> val <span class="op">=</span> strtod<span class="op">(</span>inp<span class="op">,</span> <span class="op">&amp;</span>badchar<span class="op">);</span></span>
<span id="cb616-10"><a href="stdlib.html#cb616-10"></a></span>
<span id="cb616-11"><a href="stdlib.html#cb616-11"></a>    printf<span class="op">(</span><span class="st">&quot;Converted string to </span><span class="sc">%f\n</span><span class="st">&quot;</span><span class="op">,</span> val<span class="op">);</span></span>
<span id="cb616-12"><a href="stdlib.html#cb616-12"></a>    printf<span class="op">(</span><span class="st">&quot;Encountered bad characters: </span><span class="sc">%s\n</span><span class="st">&quot;</span><span class="op">,</span> badchar<span class="op">);</span></span>
<span id="cb616-13"><a href="stdlib.html#cb616-13"></a></span>
<span id="cb616-14"><a href="stdlib.html#cb616-14"></a>    val <span class="op">=</span> strtod<span class="op">(</span><span class="st">&quot;987.654321beej&quot;</span><span class="op">,</span> NULL<span class="op">);</span></span>
<span id="cb616-15"><a href="stdlib.html#cb616-15"></a>    printf<span class="op">(</span><span class="st">&quot;Ignoring bad chars for result: </span><span class="sc">%f\n</span><span class="st">&quot;</span><span class="op">,</span> val<span class="op">);</span></span>
<span id="cb616-16"><a href="stdlib.html#cb616-16"></a></span>
<span id="cb616-17"><a href="stdlib.html#cb616-17"></a>    val <span class="op">=</span> strtod<span class="op">(</span><span class="st">&quot;11.2233&quot;</span><span class="op">,</span> <span class="op">&amp;</span>badchar<span class="op">);</span></span>
<span id="cb616-18"><a href="stdlib.html#cb616-18"></a></span>
<span id="cb616-19"><a href="stdlib.html#cb616-19"></a>    <span class="cf">if</span> <span class="op">(*</span>badchar <span class="op">==</span> <span class="ch">&#39;</span><span class="sc">\0</span><span class="ch">&#39;</span><span class="op">)</span></span>
<span id="cb616-20"><a href="stdlib.html#cb616-20"></a>        printf<span class="op">(</span><span class="st">&quot;No bad chars: </span><span class="sc">%f\n</span><span class="st">&quot;</span><span class="op">,</span> val<span class="op">);</span></span>
<span id="cb616-21"><a href="stdlib.html#cb616-21"></a>    <span class="cf">else</span></span>
<span id="cb616-22"><a href="stdlib.html#cb616-22"></a>        printf<span class="op">(</span><span class="st">&quot;Found bad chars: </span><span class="sc">%f</span><span class="st">, </span><span class="sc">%s\n</span><span class="st">&quot;</span><span class="op">,</span> val<span class="op">,</span> badchar<span class="op">);</span></span>
<span id="cb616-23"><a href="stdlib.html#cb616-23"></a><span class="op">}</span></span></code></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb617"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb617-1"><a href="stdlib.html#cb617-1" aria-hidden="true" tabindex="-1"></a>Converted string to 123.456700</span>
<span id="cb617-2"><a href="stdlib.html#cb617-2" aria-hidden="true" tabindex="-1"></a>Encountered bad characters: beej</span>
<span id="cb617-3"><a href="stdlib.html#cb617-3" aria-hidden="true" tabindex="-1"></a>Ignoring bad chars: 987.654321</span>
<span id="cb617-4"><a href="stdlib.html#cb617-4" aria-hidden="true" tabindex="-1"></a>No bad chars: 11.223300</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-166">See Also</h3>
<p><a href="stdlib.html#man-atof"><code>atof()</code></a>, <a href="stdlib.html#man-strtol"><code>strtol()</code></a></p>
<hr />
<h2 data-number="24.5" id="man-strtol"><span class="header-section-number">24.5</span> <code>strtol()</code>, <code>strtoll()</code>, <code>strtoul()</code>, <code>strtoull()</code></h2>
<p> </p>
<p>Convert a string to an integer</p>
<h3 class="unnumbered unlisted" id="synopsis-177">Synopsis</h3>
<div class="sourceCode" id="cb618"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb618-1"><a href="stdlib.html#cb618-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb618-2"><a href="stdlib.html#cb618-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb618-3"><a href="stdlib.html#cb618-3" aria-hidden="true" tabindex="-1"></a><span class="dt">long</span> <span class="dt">int</span> strtol<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span> <span class="dt">restrict</span> nptr<span class="op">,</span></span>
<span id="cb618-4"><a href="stdlib.html#cb618-4" aria-hidden="true" tabindex="-1"></a>                <span class="dt">char</span> <span class="op">**</span> <span class="dt">restrict</span> endptr<span class="op">,</span> <span class="dt">int</span> base<span class="op">);</span></span>
<span id="cb618-5"><a href="stdlib.html#cb618-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb618-6"><a href="stdlib.html#cb618-6" aria-hidden="true" tabindex="-1"></a><span class="dt">long</span> <span class="dt">long</span> <span class="dt">int</span> strtoll<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span> <span class="dt">restrict</span> nptr<span class="op">,</span></span>
<span id="cb618-7"><a href="stdlib.html#cb618-7" aria-hidden="true" tabindex="-1"></a>                      <span class="dt">char</span> <span class="op">**</span> <span class="dt">restrict</span> endptr<span class="op">,</span> <span class="dt">int</span> base<span class="op">);</span></span>
<span id="cb618-8"><a href="stdlib.html#cb618-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb618-9"><a href="stdlib.html#cb618-9" aria-hidden="true" tabindex="-1"></a><span class="dt">unsigned</span> <span class="dt">long</span> <span class="dt">int</span> strtoul<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span> <span class="dt">restrict</span> nptr<span class="op">,</span></span>
<span id="cb618-10"><a href="stdlib.html#cb618-10" aria-hidden="true" tabindex="-1"></a>                          <span class="dt">char</span> <span class="op">**</span> <span class="dt">restrict</span> endptr<span class="op">,</span> <span class="dt">int</span> base<span class="op">);</span></span>
<span id="cb618-11"><a href="stdlib.html#cb618-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb618-12"><a href="stdlib.html#cb618-12" aria-hidden="true" tabindex="-1"></a><span class="dt">unsigned</span> <span class="dt">long</span> <span class="dt">long</span> <span class="dt">int</span> strtoull<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span> <span class="dt">restrict</span> nptr<span class="op">,</span></span>
<span id="cb618-13"><a href="stdlib.html#cb618-13" aria-hidden="true" tabindex="-1"></a>                                <span class="dt">char</span> <span class="op">**</span> <span class="dt">restrict</span> endptr<span class="op">,</span> <span class="dt">int</span> base<span class="op">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-177">Description</h3>
<p>These convert a string to an integer like <code>atoi()</code>, but they have a few more bells and whistles.</p>
<p>Most notable, they can tell you where conversion started going wrong, i.e. where invalid characters, if any, appear. Leading spaces are ignored. A <code>+</code> or <code>-</code> sign may precede the number.</p>
<p>The basic idea is that if things go well, these functions will return the integer values contained in the strings. And if you pass in the <code>char**</code> typed <code>endptr</code>, it’ll set it to point at the NUL at the end of the string.</p>
<p>If things don’t go well, they’ll set <code>endptr</code> to point at the first character where things have gone awry. That is, if you’re converting a value <code>103z2!</code> in base 10, they’ll send <code>endptr</code> to point at the <code>z</code> because that’s the first non-numeric character.</p>
<p>You can pass in <code>NULL</code> for <code>endptr</code> if you don’t care to do any of that kind of error checking.</p>
<p>Wait—did I just say we could set the number base for the conversion? Yes! Yes, I did. Now <a href="https://en.wikipedia.org/wiki/Radix">number bases</a><a href="wctype.html#fn52" class="footnote-ref" id="fnref52" role="doc-noteref"><sup>52</sup></a> are out of scope for this document, but certainly some of the more well-known are binary (base 2), octal (base 8), decimal (base 10), and hexadecimal (base 16).</p>
<p>You can specify the number base for the conversion as the third parameter. Bases from 2 to 36 are supported, with case-insensitive digits running from <code>0</code> to <code>Z</code>.</p>
<p>If you specify a base of <code>0</code>, the function will make an effort to determine it. It’ll default to base 10 except for a couple cases:</p>
<p>The binary conversion is new in C23!</p>
<ul>
<li>If the number has a leading <code>0b</code> or <code>0B</code>, it will be binary (base 2)</li>
<li>If the number has a leading <code>0</code>, it will be octal (base 8)</li>
<li>If the number has a leading <code>0x</code> or <code>0X</code>, it will be hex (base 16)</li>
</ul>
<p>The locale might affect the behavior of these functions.</p>
<h3 class="unnumbered unlisted" id="return-value-175">Return Value</h3>
<p>Returns the converted value.</p>
<p><code>endptr</code>, if not <code>NULL</code> is set to the first invalid character, or to the beginning of the string if no conversion was performed, or to the string terminal NUL if all characters were valid.</p>
<p>If there’s overflow, one of these values will be returned: <code>LONG_MIN</code>, <code>LONG_MAX</code>, <code>LLONG_MIN</code>, <code>LLONG_MAX</code>, <code>ULONG_MAX</code>, <code>ULLONG_MAX</code>. And <code>errno</code> is set to <code>ERANGE</code>.</p>
<h3 class="unnumbered unlisted" id="example-178">Example</h3>
<div class="sourceCode" id="cb619"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb619-1"><a href="stdlib.html#cb619-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb619-2"><a href="stdlib.html#cb619-2"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb619-3"><a href="stdlib.html#cb619-3"></a></span>
<span id="cb619-4"><a href="stdlib.html#cb619-4"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb619-5"><a href="stdlib.html#cb619-5"></a><span class="op">{</span></span>
<span id="cb619-6"><a href="stdlib.html#cb619-6"></a>    <span class="co">// All output in decimal (base 10)</span></span>
<span id="cb619-7"><a href="stdlib.html#cb619-7"></a></span>
<span id="cb619-8"><a href="stdlib.html#cb619-8"></a>    printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%ld\n</span><span class="st">&quot;</span><span class="op">,</span> strtol<span class="op">(</span><span class="st">&quot;123&quot;</span><span class="op">,</span> NULL<span class="op">,</span> <span class="dv">0</span><span class="op">));</span>      <span class="co">// 123</span></span>
<span id="cb619-9"><a href="stdlib.html#cb619-9"></a>    printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%ld\n</span><span class="st">&quot;</span><span class="op">,</span> strtol<span class="op">(</span><span class="st">&quot;123&quot;</span><span class="op">,</span> NULL<span class="op">,</span> <span class="dv">10</span><span class="op">));</span>     <span class="co">// 123</span></span>
<span id="cb619-10"><a href="stdlib.html#cb619-10"></a>    printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%ld\n</span><span class="st">&quot;</span><span class="op">,</span> strtol<span class="op">(</span><span class="st">&quot;101010&quot;</span><span class="op">,</span> NULL<span class="op">,</span> <span class="dv">2</span><span class="op">));</span>   <span class="co">// binary, 42</span></span>
<span id="cb619-11"><a href="stdlib.html#cb619-11"></a>    printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%ld\n</span><span class="st">&quot;</span><span class="op">,</span> strtol<span class="op">(</span><span class="st">&quot;123&quot;</span><span class="op">,</span> NULL<span class="op">,</span> <span class="dv">8</span><span class="op">));</span>      <span class="co">// octal, 83</span></span>
<span id="cb619-12"><a href="stdlib.html#cb619-12"></a>    printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%ld\n</span><span class="st">&quot;</span><span class="op">,</span> strtol<span class="op">(</span><span class="st">&quot;123&quot;</span><span class="op">,</span> NULL<span class="op">,</span> <span class="dv">16</span><span class="op">));</span>     <span class="co">// hex, 291</span></span>
<span id="cb619-13"><a href="stdlib.html#cb619-13"></a></span>
<span id="cb619-14"><a href="stdlib.html#cb619-14"></a>    printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%ld\n</span><span class="st">&quot;</span><span class="op">,</span> strtol<span class="op">(</span><span class="st">&quot;0123&quot;</span><span class="op">,</span> NULL<span class="op">,</span> <span class="dv">0</span><span class="op">));</span>     <span class="co">// octal, 83</span></span>
<span id="cb619-15"><a href="stdlib.html#cb619-15"></a>    printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%ld\n</span><span class="st">&quot;</span><span class="op">,</span> strtol<span class="op">(</span><span class="st">&quot;0x123&quot;</span><span class="op">,</span> NULL<span class="op">,</span> <span class="dv">0</span><span class="op">));</span>    <span class="co">// hex, 291</span></span>
<span id="cb619-16"><a href="stdlib.html#cb619-16"></a></span>
<span id="cb619-17"><a href="stdlib.html#cb619-17"></a>    <span class="dt">char</span> <span class="op">*</span>badchar<span class="op">;</span></span>
<span id="cb619-18"><a href="stdlib.html#cb619-18"></a>    <span class="dt">long</span> <span class="dt">int</span> x <span class="op">=</span> strtol<span class="op">(</span><span class="st">&quot;   1234beej&quot;</span><span class="op">,</span> <span class="op">&amp;</span>badchar<span class="op">,</span> <span class="dv">0</span><span class="op">);</span></span>
<span id="cb619-19"><a href="stdlib.html#cb619-19"></a></span>
<span id="cb619-20"><a href="stdlib.html#cb619-20"></a>    printf<span class="op">(</span><span class="st">&quot;Value is </span><span class="sc">%ld\n</span><span class="st">&quot;</span><span class="op">,</span> x<span class="op">);</span>               <span class="co">// Value is 1234</span></span>
<span id="cb619-21"><a href="stdlib.html#cb619-21"></a>    printf<span class="op">(</span><span class="st">&quot;Bad chars at </span><span class="sc">\&quot;%s\&quot;\n</span><span class="st">&quot;</span><span class="op">,</span> badchar<span class="op">);</span>  <span class="co">// Bad chars at &quot;beej&quot;</span></span>
<span id="cb619-22"><a href="stdlib.html#cb619-22"></a><span class="op">}</span></span></code></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb620"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb620-1"><a href="stdlib.html#cb620-1" aria-hidden="true" tabindex="-1"></a>123</span>
<span id="cb620-2"><a href="stdlib.html#cb620-2" aria-hidden="true" tabindex="-1"></a>123</span>
<span id="cb620-3"><a href="stdlib.html#cb620-3" aria-hidden="true" tabindex="-1"></a>42</span>
<span id="cb620-4"><a href="stdlib.html#cb620-4" aria-hidden="true" tabindex="-1"></a>83</span>
<span id="cb620-5"><a href="stdlib.html#cb620-5" aria-hidden="true" tabindex="-1"></a>291</span>
<span id="cb620-6"><a href="stdlib.html#cb620-6" aria-hidden="true" tabindex="-1"></a>83</span>
<span id="cb620-7"><a href="stdlib.html#cb620-7" aria-hidden="true" tabindex="-1"></a>291</span>
<span id="cb620-8"><a href="stdlib.html#cb620-8" aria-hidden="true" tabindex="-1"></a>Value is 1234</span>
<span id="cb620-9"><a href="stdlib.html#cb620-9" aria-hidden="true" tabindex="-1"></a>Bad chars at &quot;beej&quot;</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-167">See Also</h3>
<p><a href="stdlib.html#man-atoi"><code>atoi()</code></a>, <a href="stdlib.html#man-strtod"><code>strtod()</code></a>, <a href="locale.html#man-setlocale"><code>setlocale()</code></a>, <a href="inttypes.html#man-strtoimax"><code>strtoimax()</code></a>, <a href="inttypes.html#man-strtoimax"><code>strtoumax()</code></a></p>
<hr />
<h2 data-number="24.6" id="man-rand"><span class="header-section-number">24.6</span> <code>rand()</code></h2>
<p></p>
<p>Return a pseudorandom number</p>
<h3 class="unnumbered unlisted" id="synopsis-178">Synopsis</h3>
<div class="sourceCode" id="cb621"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb621-1"><a href="stdlib.html#cb621-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb621-2"><a href="stdlib.html#cb621-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb621-3"><a href="stdlib.html#cb621-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> rand<span class="op">(</span><span class="dt">void</span><span class="op">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-178">Description</h3>
<p>This gives us back a pseudorandom number in the range <code>0</code> to <code>RAND_MAX</code>, inclusive. (<code>RAND_MAX</code> will be at least <span class="math inline">\(32767\)</span>.)</p>
<p>If you want to force this to a certain range, the classic way to do this is to force it with the modulo operator <code>%</code>, although <a href="https://stackoverflow.com/questions/10984974/why-do-people-say-there-is-modulo-bias-when-using-a-random-number-generator">this introduces biases</a><a href="wctype.html#fn53" class="footnote-ref" id="fnref53" role="doc-noteref"><sup>53</sup></a> if <code>RAND_MAX+1</code> is not a multiple of the number you’re modding by. Dealing with this is out of scope for this guide.</p>
<p>If you want to to make a floating point number between <code>0</code> and <code>1</code> inclusive, you can divide the result by <code>RAND_MAX</code>. Or <code>RAND_MAX+1</code> if you don’t want to include <code>1</code>. But of course, there are out-of-scope <a href="https://mumble.net/~campbell/2014/04/28/uniform-random-float">problems with this, as well</a><a href="wctype.html#fn54" class="footnote-ref" id="fnref54" role="doc-noteref"><sup>54</sup></a>.</p>
<p>In short, <code>rand()</code> is a great way to get potentially poor random numbers with ease. Probably good enough for the game you’re writing.</p>
<p>The spec elaborates:</p>
<blockquote>
<p>There are no guarantees as to the quality of the random sequence produced and some implementations are known to produce sequences with distressingly non-random low-order bits. Applications with particular requirements should use a generator that is known to be sufficient for their needs.</p>
</blockquote>
<p>Your system probably has a good random number generator on it if you need a stronger source. Linux users have <code>getrandom()</code>, for example, and Windows has <code>CryptGenRandom()</code>.</p>
<p>For other more demanding random number work, you might find a library like the <a href="https://www.gnu.org/software/gsl/doc/html/rng.html">GNU Scientific Library</a><a href="wctype.html#fn55" class="footnote-ref" id="fnref55" role="doc-noteref"><sup>55</sup></a> of use.</p>
<p>With most implementations, the numbers produced by <code>rand()</code> will be the same from run to run. To get around this, you need to start it off in a different place by passing a <em>seed</em> into the random number generator. You can do this with <a href="stdlib.html#man-srand"><code>srand()</code></a>.</p>
<h3 class="unnumbered unlisted" id="return-value-176">Return Value</h3>
<p>Returns a random number in the range <code>0</code> to <code>RAND_MAX</code>, inclusive.</p>
<h3 class="unnumbered unlisted" id="example-179">Example</h3>
<p>Note that all of these examples don’t produce perfectly uniform distributions. But good enough for the untrained eye, and really common in general use when mediocre random number quality is acceptable.</p>
<div class="sourceCode" id="cb622"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb622-1"><a href="stdlib.html#cb622-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb622-2"><a href="stdlib.html#cb622-2"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb622-3"><a href="stdlib.html#cb622-3"></a></span>
<span id="cb622-4"><a href="stdlib.html#cb622-4"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb622-5"><a href="stdlib.html#cb622-5"></a><span class="op">{</span></span>
<span id="cb622-6"><a href="stdlib.html#cb622-6"></a>    printf<span class="op">(</span><span class="st">&quot;RAND_MAX = </span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> RAND_MAX<span class="op">);</span></span>
<span id="cb622-7"><a href="stdlib.html#cb622-7"></a></span>
<span id="cb622-8"><a href="stdlib.html#cb622-8"></a>    printf<span class="op">(</span><span class="st">&quot;0 to 9: </span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> rand<span class="op">()</span> <span class="op">%</span> <span class="dv">10</span><span class="op">);</span></span>
<span id="cb622-9"><a href="stdlib.html#cb622-9"></a></span>
<span id="cb622-10"><a href="stdlib.html#cb622-10"></a>    printf<span class="op">(</span><span class="st">&quot;10 to 44: </span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> rand<span class="op">()</span> <span class="op">%</span> <span class="dv">35</span> <span class="op">+</span> <span class="dv">10</span><span class="op">);</span></span>
<span id="cb622-11"><a href="stdlib.html#cb622-11"></a>    printf<span class="op">(</span><span class="st">&quot;0 to 0.99999: </span><span class="sc">%f\n</span><span class="st">&quot;</span><span class="op">,</span> rand<span class="op">()</span> <span class="op">/</span> <span class="op">((</span><span class="dt">float</span><span class="op">)</span>RAND_MAX <span class="op">+</span> <span class="dv">1</span><span class="op">));</span></span>
<span id="cb622-12"><a href="stdlib.html#cb622-12"></a>    printf<span class="op">(</span><span class="st">&quot;10.5 to 15.7: </span><span class="sc">%f\n</span><span class="st">&quot;</span><span class="op">,</span> <span class="fl">10.5</span> <span class="op">+</span> <span class="fl">5.2</span> <span class="op">*</span> rand<span class="op">()</span> <span class="op">/</span> <span class="op">(</span><span class="dt">float</span><span class="op">)</span>RAND_MAX<span class="op">);</span></span>
<span id="cb622-13"><a href="stdlib.html#cb622-13"></a><span class="op">}</span></span></code></pre></div>
<p>Output on my system:</p>
<div class="sourceCode" id="cb623"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb623-1"><a href="stdlib.html#cb623-1" aria-hidden="true" tabindex="-1"></a>RAND_MAX = 2147483647</span>
<span id="cb623-2"><a href="stdlib.html#cb623-2" aria-hidden="true" tabindex="-1"></a>0 to 9: 3</span>
<span id="cb623-3"><a href="stdlib.html#cb623-3" aria-hidden="true" tabindex="-1"></a>10 to 44: 21</span>
<span id="cb623-4"><a href="stdlib.html#cb623-4" aria-hidden="true" tabindex="-1"></a>0 to 0.99999: 0.783099</span>
<span id="cb623-5"><a href="stdlib.html#cb623-5" aria-hidden="true" tabindex="-1"></a>10.5 to 15.7: 14.651888</span></code></pre></div>
<p>Example of seeding the RNG with the time:</p>
<div class="sourceCode" id="cb624"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb624-1"><a href="stdlib.html#cb624-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb624-2"><a href="stdlib.html#cb624-2"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb624-3"><a href="stdlib.html#cb624-3"></a><span class="pp">#include </span><span class="im">&lt;time.h&gt;</span></span>
<span id="cb624-4"><a href="stdlib.html#cb624-4"></a></span>
<span id="cb624-5"><a href="stdlib.html#cb624-5"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb624-6"><a href="stdlib.html#cb624-6"></a><span class="op">{</span></span>
<span id="cb624-7"><a href="stdlib.html#cb624-7"></a>    <span class="co">// time(NULL) very likely returns the number of seconds since</span></span>
<span id="cb624-8"><a href="stdlib.html#cb624-8"></a>    <span class="co">// January 1, 1970:</span></span>
<span id="cb624-9"><a href="stdlib.html#cb624-9"></a></span>
<span id="cb624-10"><a href="stdlib.html#cb624-10"></a>    srand<span class="op">(</span>time<span class="op">(</span>NULL<span class="op">));</span></span>
<span id="cb624-11"><a href="stdlib.html#cb624-11"></a></span>
<span id="cb624-12"><a href="stdlib.html#cb624-12"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">5</span><span class="op">;</span> i<span class="op">++)</span></span>
<span id="cb624-13"><a href="stdlib.html#cb624-13"></a>        printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> rand<span class="op">());</span></span>
<span id="cb624-14"><a href="stdlib.html#cb624-14"></a><span class="op">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-168">See Also</h3>
<p><a href="stdlib.html#man-srand"><code>srand()</code></a></p>
<hr />
<h2 data-number="24.7" id="man-srand"><span class="header-section-number">24.7</span> <code>srand()</code></h2>
<p></p>
<p>Seed the built-in pseudorandom number generator</p>
<h3 class="unnumbered unlisted" id="synopsis-179">Synopsis</h3>
<div class="sourceCode" id="cb625"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb625-1"><a href="stdlib.html#cb625-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb625-2"><a href="stdlib.html#cb625-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb625-3"><a href="stdlib.html#cb625-3" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> srand<span class="op">(</span><span class="dt">unsigned</span> <span class="dt">int</span> seed<span class="op">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-179">Description</h3>
<p>The dirty little secret of pseudorandom number generation is that they’re completely deterministic. There’s nothing random about them. They just look random.</p>
<p>If you use <code>rand()</code> and run your program several times, you might notice something <em>fishy</em>: they produce the same random numbers over and over again.</p>
<p>To mix it up, we need to give the pseudorandom number generator a new “starting point”, if you will. We call that the <em>seed</em>. It’s just a number, but it is used as the basic for subsequent number generation. Give a different seed, and you’ll get a different sequence of random numbers. Give the same seed, and you’ll get the same sequence of random numbers corresponding to it<a href="wctype.html#fn56" class="footnote-ref" id="fnref56" role="doc-noteref"><sup>56</sup></a>.</p>
<p>So if you call <code>srand(3490)</code> before you start generating numbers with <code>rand()</code>, you’ll get the same sequence every time. <code>srand(37)</code> would also give you the same sequence every time, but it would be a different sequence than the one you got with <code>srand(3490)</code>.</p>
<p>But if you can’t hardcode the seed (because that would give you the same sequence every time), how are you supposed to do this?</p>
<p>It’s really common to use the number of seconds since January 1, 1970 (this date is known as the <a href="https://en.wikipedia.org/wiki/Unix_time"><em>Unix epoch</em></a><a href="wctype.html#fn57" class="footnote-ref" id="fnref57" role="doc-noteref"><sup>57</sup></a>) to seed the generator. This sounds pretty arbitrary except for the fact that it’s exactly the value most implementations return from the library call <code>time(NULL)</code><a href="wctype.html#fn58" class="footnote-ref" id="fnref58" role="doc-noteref"><sup>58</sup></a>.</p>
<p>We’ll do that in the example.</p>
<p>If you don’t call <code>srand()</code>, it’s as if you called <code>srand(1)</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-177">Return Value</h3>
<p>Returns nothing!</p>
<h3 class="unnumbered unlisted" id="example-180">Example</h3>
<div class="sourceCode" id="cb626"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb626-1"><a href="stdlib.html#cb626-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb626-2"><a href="stdlib.html#cb626-2"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb626-3"><a href="stdlib.html#cb626-3"></a><span class="pp">#include </span><span class="im">&lt;time.h&gt;</span><span class="pp">    </span><span class="co">// for the time() call</span></span>
<span id="cb626-4"><a href="stdlib.html#cb626-4"></a></span>
<span id="cb626-5"><a href="stdlib.html#cb626-5"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb626-6"><a href="stdlib.html#cb626-6"></a><span class="op">{</span></span>
<span id="cb626-7"><a href="stdlib.html#cb626-7"></a>    srand<span class="op">(</span>time<span class="op">(</span>NULL<span class="op">));</span></span>
<span id="cb626-8"><a href="stdlib.html#cb626-8"></a></span>
<span id="cb626-9"><a href="stdlib.html#cb626-9"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">5</span><span class="op">;</span> i<span class="op">++)</span></span>
<span id="cb626-10"><a href="stdlib.html#cb626-10"></a>        printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> rand<span class="op">()</span> <span class="op">%</span> <span class="dv">32</span><span class="op">);</span></span>
<span id="cb626-11"><a href="stdlib.html#cb626-11"></a><span class="op">}</span></span></code></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb627"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb627-1"><a href="stdlib.html#cb627-1" aria-hidden="true" tabindex="-1"></a>4</span>
<span id="cb627-2"><a href="stdlib.html#cb627-2" aria-hidden="true" tabindex="-1"></a>20</span>
<span id="cb627-3"><a href="stdlib.html#cb627-3" aria-hidden="true" tabindex="-1"></a>22</span>
<span id="cb627-4"><a href="stdlib.html#cb627-4" aria-hidden="true" tabindex="-1"></a>14</span>
<span id="cb627-5"><a href="stdlib.html#cb627-5" aria-hidden="true" tabindex="-1"></a>9</span></code></pre></div>
<p>Output from a subsequent run:</p>
<div class="sourceCode" id="cb628"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb628-1"><a href="stdlib.html#cb628-1" aria-hidden="true" tabindex="-1"></a>19</span>
<span id="cb628-2"><a href="stdlib.html#cb628-2" aria-hidden="true" tabindex="-1"></a>0</span>
<span id="cb628-3"><a href="stdlib.html#cb628-3" aria-hidden="true" tabindex="-1"></a>31</span>
<span id="cb628-4"><a href="stdlib.html#cb628-4" aria-hidden="true" tabindex="-1"></a>31</span>
<span id="cb628-5"><a href="stdlib.html#cb628-5" aria-hidden="true" tabindex="-1"></a>24</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-169">See Also</h3>
<p><a href="stdlib.html#man-rand"><code>rand()</code></a>, <a href="time.html#man-time"><code>time()</code></a></p>
<hr />
<h2 data-number="24.8" id="man-aligned_alloc"><span class="header-section-number">24.8</span> <code>aligned_alloc()</code></h2>
<p></p>
<p>Allocate specifically-aligned memory</p>
<h3 class="unnumbered unlisted" id="synopsis-180">Synopsis</h3>
<div class="sourceCode" id="cb629"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb629-1"><a href="stdlib.html#cb629-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb629-2"><a href="stdlib.html#cb629-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb629-3"><a href="stdlib.html#cb629-3" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> <span class="op">*</span>aligned_alloc<span class="op">(</span><span class="dt">size_t</span> alignment<span class="op">,</span> <span class="dt">size_t</span> size<span class="op">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-180">Description</h3>
<p>Maybe you wanted <a href="stdlib.html#man-malloc"><code>malloc()</code></a> or <a href="stdlib.html#man-malloc"><code>calloc()</code></a> instead of this. But if you’re sure you don’t, read on!</p>
<p>Normally you don’t have to think about this, since <code>malloc()</code> and <code>realloc()</code> both provide memory regions that are suitably <a href="https://en.wikipedia.org/wiki/Data_structure_alignment">aligned</a><a href="wctype.html#fn59" class="footnote-ref" id="fnref59" role="doc-noteref"><sup>59</sup></a> for use with any data type.</p>
<p>But if you need a more specific alignment, you can specify it with this function.</p>
<p>When you’re done using the memory region, be sure to free it with a call to <a href="stdlib.html#man-free"><code>free()</code></a>.</p>
<p>Don’t pass in <code>0</code> for the size. It probably won’t do anything you want.</p>
<p>In case you’re wondering, all dynamically-allocated memory is automatically freed by the system when the program ends. That said, it’s considered to be <em>Good Form</em> to explicitly <code>free()</code> everything you allocate. This way other programmers don’t think you were being sloppy.</p>
<h3 class="unnumbered unlisted" id="return-value-178">Return Value</h3>
<p>Returns a pointer to the newly-allocated memory, aligned as specified. Returns <code>NULL</code> if something goes wrong.</p>
<h3 class="unnumbered unlisted" id="example-181">Example</h3>
<div class="sourceCode" id="cb630"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb630-1"><a href="stdlib.html#cb630-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb630-2"><a href="stdlib.html#cb630-2"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb630-3"><a href="stdlib.html#cb630-3"></a><span class="pp">#include </span><span class="im">&lt;stdint.h&gt;</span></span>
<span id="cb630-4"><a href="stdlib.html#cb630-4"></a></span>
<span id="cb630-5"><a href="stdlib.html#cb630-5"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb630-6"><a href="stdlib.html#cb630-6"></a><span class="op">{</span></span>
<span id="cb630-7"><a href="stdlib.html#cb630-7"></a>    <span class="dt">int</span> <span class="op">*</span>p <span class="op">=</span> aligned_alloc<span class="op">(</span><span class="dv">256</span><span class="op">,</span> <span class="dv">10</span> <span class="op">*</span> <span class="kw">sizeof</span><span class="op">(</span><span class="dt">int</span><span class="op">));</span></span>
<span id="cb630-8"><a href="stdlib.html#cb630-8"></a></span>
<span id="cb630-9"><a href="stdlib.html#cb630-9"></a>    <span class="co">// Just for fun, let&#39;s convert to intptr_t and mod with 256</span></span>
<span id="cb630-10"><a href="stdlib.html#cb630-10"></a>    <span class="co">// to make sure we&#39;re actually aligned on a 256-byte boundary.</span></span>
<span id="cb630-11"><a href="stdlib.html#cb630-11"></a>    <span class="co">//</span></span>
<span id="cb630-12"><a href="stdlib.html#cb630-12"></a>    <span class="co">// This is probably some kind of implementation-defined</span></span>
<span id="cb630-13"><a href="stdlib.html#cb630-13"></a>    <span class="co">// behavior, but I&#39;ll bet it works.</span></span>
<span id="cb630-14"><a href="stdlib.html#cb630-14"></a></span>
<span id="cb630-15"><a href="stdlib.html#cb630-15"></a>    <span class="dt">intptr_t</span> ip <span class="op">=</span> <span class="op">(</span><span class="dt">intptr_t</span><span class="op">)</span>p<span class="op">;</span></span>
<span id="cb630-16"><a href="stdlib.html#cb630-16"></a></span>
<span id="cb630-17"><a href="stdlib.html#cb630-17"></a>    printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%ld\n</span><span class="st">&quot;</span><span class="op">,</span> ip <span class="op">%</span> <span class="dv">256</span><span class="op">);</span>   <span class="co">// 0!</span></span>
<span id="cb630-18"><a href="stdlib.html#cb630-18"></a></span>
<span id="cb630-19"><a href="stdlib.html#cb630-19"></a>    <span class="co">// Free it up</span></span>
<span id="cb630-20"><a href="stdlib.html#cb630-20"></a>    free<span class="op">(</span>p<span class="op">);</span></span>
<span id="cb630-21"><a href="stdlib.html#cb630-21"></a><span class="op">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-170">See Also</h3>
<p><a href="stdlib.html#man-malloc"><code>malloc()</code></a>, <a href="stdlib.html#man-malloc"><code>calloc()</code></a>, <a href="stdlib.html#man-free"><code>free()</code></a></p>
<hr />
<h2 data-number="24.9" id="man-malloc"><span class="header-section-number">24.9</span> <code>calloc()</code>, <code>malloc()</code></h2>
<p> </p>
<p>Allocate memory for arbitrary use</p>
<h3 class="unnumbered unlisted" id="synopsis-181">Synopsis</h3>
<div class="sourceCode" id="cb631"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb631-1"><a href="stdlib.html#cb631-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb631-2"><a href="stdlib.html#cb631-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb631-3"><a href="stdlib.html#cb631-3" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> <span class="op">*</span>calloc<span class="op">(</span><span class="dt">size_t</span> nmemb<span class="op">,</span> <span class="dt">size_t</span> size<span class="op">);</span></span>
<span id="cb631-4"><a href="stdlib.html#cb631-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb631-5"><a href="stdlib.html#cb631-5" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> <span class="op">*</span>malloc<span class="op">(</span><span class="dt">size_t</span> size<span class="op">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-181">Description</h3>
<p>Both of these functions allocate memory for general-purpose use. It will be aligned such that it’s useable for storing any data type.</p>
<p><code>malloc()</code> allocates exactly the specified number of bytes of memory in a contiguous block. The memory might be full of garbage data. (You can clear it with <a href="stringref.html#man-memset"><code>memset()</code></a>, if you wish.)</p>
<p><code>calloc()</code> is different in that it allocates space for <code>nmemb</code> objects of <code>size</code> bytes each. (You can do the same with <code>malloc()</code>, but you have to do the multiplication yourself.)</p>
<p><code>calloc()</code> has an additional feature: it clears all the memory to <code>0</code>.</p>
<p>So if you’re planning to zero the memory anyway, <code>calloc()</code> is probably the way to go. If you’re not, you can avoid that overhead by calling <code>malloc()</code>.</p>
<p>When you’re done using the memory region, free it with a call to <code>free()</code>.</p>
<p>Don’t pass in <code>0</code> for the size. It probably won’t do anything you want.</p>
<p>In case you’re wondering, all dynamically-allocated memory is automatically freed by the system when the program ends. That said, it’s considered to be <em>Good Form</em> to explicitly <code>free()</code> everything you allocate. This way other programmers don’t think you were being sloppy.</p>
<h3 class="unnumbered unlisted" id="return-value-179">Return Value</h3>
<p>Both functions return a pointer to the shiny, newly-allocated memory. Or <code>NULL</code> if something’s gone awry.</p>
<h3 class="unnumbered unlisted" id="example-182">Example</h3>
<p>Comparison of <code>malloc()</code> and <code>calloc()</code> for allocating 5 <code>int</code>s:</p>
<div class="sourceCode" id="cb632"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb632-1"><a href="stdlib.html#cb632-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb632-2"><a href="stdlib.html#cb632-2"></a></span>
<span id="cb632-3"><a href="stdlib.html#cb632-3"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb632-4"><a href="stdlib.html#cb632-4"></a><span class="op">{</span></span>
<span id="cb632-5"><a href="stdlib.html#cb632-5"></a>    <span class="co">// Allocate space for 5 ints</span></span>
<span id="cb632-6"><a href="stdlib.html#cb632-6"></a>    <span class="dt">int</span> <span class="op">*</span>p <span class="op">=</span> malloc<span class="op">(</span><span class="dv">5</span> <span class="op">*</span> <span class="kw">sizeof</span><span class="op">(</span><span class="dt">int</span><span class="op">));</span></span>
<span id="cb632-7"><a href="stdlib.html#cb632-7"></a></span>
<span id="cb632-8"><a href="stdlib.html#cb632-8"></a>    p<span class="op">[</span><span class="dv">0</span><span class="op">]</span> <span class="op">=</span> <span class="dv">12</span><span class="op">;</span></span>
<span id="cb632-9"><a href="stdlib.html#cb632-9"></a>    p<span class="op">[</span><span class="dv">1</span><span class="op">]</span> <span class="op">=</span> <span class="dv">30</span><span class="op">;</span></span>
<span id="cb632-10"><a href="stdlib.html#cb632-10"></a></span>
<span id="cb632-11"><a href="stdlib.html#cb632-11"></a>    <span class="co">// Allocate space for 5 ints</span></span>
<span id="cb632-12"><a href="stdlib.html#cb632-12"></a>    <span class="co">// (Also clear that memory to 0)</span></span>
<span id="cb632-13"><a href="stdlib.html#cb632-13"></a>    <span class="dt">int</span> <span class="op">*</span>q <span class="op">=</span> calloc<span class="op">(</span><span class="dv">5</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span><span class="dt">int</span><span class="op">));</span></span>
<span id="cb632-14"><a href="stdlib.html#cb632-14"></a></span>
<span id="cb632-15"><a href="stdlib.html#cb632-15"></a>    q<span class="op">[</span><span class="dv">0</span><span class="op">]</span> <span class="op">=</span> <span class="dv">12</span><span class="op">;</span></span>
<span id="cb632-16"><a href="stdlib.html#cb632-16"></a>    q<span class="op">[</span><span class="dv">1</span><span class="op">]</span> <span class="op">=</span> <span class="dv">30</span><span class="op">;</span></span>
<span id="cb632-17"><a href="stdlib.html#cb632-17"></a></span>
<span id="cb632-18"><a href="stdlib.html#cb632-18"></a>    <span class="co">// All done</span></span>
<span id="cb632-19"><a href="stdlib.html#cb632-19"></a>    free<span class="op">(</span>p<span class="op">);</span></span>
<span id="cb632-20"><a href="stdlib.html#cb632-20"></a>    free<span class="op">(</span>q<span class="op">);</span></span>
<span id="cb632-21"><a href="stdlib.html#cb632-21"></a><span class="op">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-171">See Also</h3>
<p><a href="stdlib.html#man-aligned_alloc"><code>aligned_alloc()</code></a>, <a href="stdlib.html#man-free"><code>free()</code></a></p>
<hr />
<h2 data-number="24.10" id="man-free"><span class="header-section-number">24.10</span> <code>free()</code></h2>
<p></p>
<p>Free a memory region</p>
<h3 class="unnumbered unlisted" id="synopsis-182">Synopsis</h3>
<div class="sourceCode" id="cb633"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb633-1"><a href="stdlib.html#cb633-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb633-2"><a href="stdlib.html#cb633-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb633-3"><a href="stdlib.html#cb633-3" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> free<span class="op">(</span><span class="dt">void</span> <span class="op">*</span>ptr<span class="op">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-182">Description</h3>
<p>You know that pointer you got back from <code>malloc()</code>, <code>calloc()</code>, or <code>aligned_alloc()</code>? You pass that pointer to <code>free()</code> to free the memory associated with it.</p>
<p>If you don’t do this, the memory will stay allocated FOREVER AND EVER! (Well, until your program exits, anyway.)</p>
<p>Fun fact: <code>free(NULL)</code> does nothing. You can safely call that. Sometimes it’s convenient.</p>
<p>Don’t <code>free()</code> a pointer that’s already been <code>free()</code>d. Don’t <code>free()</code> a pointer that you didn’t get back from one of the allocation functions. It would be <em>Bad</em><a href="wctype.html#fn60" class="footnote-ref" id="fnref60" role="doc-noteref"><sup>60</sup></a>.</p>
<h3 class="unnumbered unlisted" id="return-value-180">Return Value</h3>
<p>Returns nothing!</p>
<h3 class="unnumbered unlisted" id="example-183">Example</h3>
<div class="sourceCode" id="cb634"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb634-1"><a href="stdlib.html#cb634-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb634-2"><a href="stdlib.html#cb634-2"></a></span>
<span id="cb634-3"><a href="stdlib.html#cb634-3"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb634-4"><a href="stdlib.html#cb634-4"></a><span class="op">{</span></span>
<span id="cb634-5"><a href="stdlib.html#cb634-5"></a>    <span class="co">// Allocate space for 5 ints</span></span>
<span id="cb634-6"><a href="stdlib.html#cb634-6"></a>    <span class="dt">int</span> <span class="op">*</span>p <span class="op">=</span> malloc<span class="op">(</span><span class="dv">5</span> <span class="op">*</span> <span class="kw">sizeof</span><span class="op">(</span><span class="dt">int</span><span class="op">));</span></span>
<span id="cb634-7"><a href="stdlib.html#cb634-7"></a></span>
<span id="cb634-8"><a href="stdlib.html#cb634-8"></a>    p<span class="op">[</span><span class="dv">0</span><span class="op">]</span> <span class="op">=</span> <span class="dv">12</span><span class="op">;</span></span>
<span id="cb634-9"><a href="stdlib.html#cb634-9"></a>    p<span class="op">[</span><span class="dv">1</span><span class="op">]</span> <span class="op">=</span> <span class="dv">30</span><span class="op">;</span></span>
<span id="cb634-10"><a href="stdlib.html#cb634-10"></a></span>
<span id="cb634-11"><a href="stdlib.html#cb634-11"></a>    <span class="co">// Free that space</span></span>
<span id="cb634-12"><a href="stdlib.html#cb634-12"></a>    free<span class="op">(</span>p<span class="op">);</span></span>
<span id="cb634-13"><a href="stdlib.html#cb634-13"></a><span class="op">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-172">See Also</h3>
<p><a href="stdlib.html#man-malloc"><code>malloc()</code></a>, <a href="stdlib.html#man-malloc"><code>calloc()</code></a>, <a href="stdlib.html#man-aligned_alloc"><code>aligned_alloc()</code></a></p>
<hr />
<h2 data-number="24.11" id="man-realloc"><span class="header-section-number">24.11</span> <code>realloc()</code></h2>
<p></p>
<p>Resize a previously allocated stretch of memory</p>
<h3 class="unnumbered unlisted" id="synopsis-183">Synopsis</h3>
<div class="sourceCode" id="cb635"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb635-1"><a href="stdlib.html#cb635-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb635-2"><a href="stdlib.html#cb635-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb635-3"><a href="stdlib.html#cb635-3" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> <span class="op">*</span>realloc<span class="op">(</span><span class="dt">void</span> <span class="op">*</span>ptr<span class="op">,</span> <span class="dt">size_t</span> size<span class="op">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-183">Description</h3>
<p>This takes a pointer to some memory previously allocated with <code>malloc()</code> or <code>calloc()</code> and resizes it to the new size.</p>
<p>If the new size is smaller than the old size, any data larger than the new size is discarded.</p>
<p>If the new size is larger than the old size, the new larger part is uninitialized. (You can clear it with <a href="stringref.html#man-memset"><code>memset()</code></a>.)</p>
<p>Important note: the memory might move! If you resize, the system might need to relocate the memory to a larger continguous chunk. If this happens, <code>realloc()</code> will copy the old data to the new location for you.</p>
<p>Because of this, it’s important to save the returned value to your pointer to update it to the new location if things move. (Also, be sure to error-check so that you don’t overwrite your old pointer with <code>NULL</code>, leaking the memory.)</p>
<p>You can also <code>relloc()</code> memory allocated with <code>aligned_alloc()</code>, but it will potentially lose its alignment if the block is moved.</p>
<h3 class="unnumbered unlisted" id="return-value-181">Return Value</h3>
<p>Returns a pointer to the resized memory region. This might be equivalent to the <code>ptr</code> passed in, or it might be some other location.</p>
<h3 class="unnumbered unlisted" id="example-184">Example</h3>
<div class="sourceCode" id="cb636"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb636-1"><a href="stdlib.html#cb636-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb636-2"><a href="stdlib.html#cb636-2"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb636-3"><a href="stdlib.html#cb636-3"></a></span>
<span id="cb636-4"><a href="stdlib.html#cb636-4"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb636-5"><a href="stdlib.html#cb636-5"></a><span class="op">{</span></span>
<span id="cb636-6"><a href="stdlib.html#cb636-6"></a>    <span class="co">// Allocate space for 5 ints</span></span>
<span id="cb636-7"><a href="stdlib.html#cb636-7"></a>    <span class="dt">int</span> <span class="op">*</span>p <span class="op">=</span> malloc<span class="op">(</span><span class="dv">5</span> <span class="op">*</span> <span class="kw">sizeof</span><span class="op">(</span><span class="dt">int</span><span class="op">));</span></span>
<span id="cb636-8"><a href="stdlib.html#cb636-8"></a></span>
<span id="cb636-9"><a href="stdlib.html#cb636-9"></a>    p<span class="op">[</span><span class="dv">0</span><span class="op">]</span> <span class="op">=</span> <span class="dv">12</span><span class="op">;</span></span>
<span id="cb636-10"><a href="stdlib.html#cb636-10"></a>    p<span class="op">[</span><span class="dv">1</span><span class="op">]</span> <span class="op">=</span> <span class="dv">30</span><span class="op">;</span></span>
<span id="cb636-11"><a href="stdlib.html#cb636-11"></a></span>
<span id="cb636-12"><a href="stdlib.html#cb636-12"></a>    <span class="co">// Reallocate for 10 bytes</span></span>
<span id="cb636-13"><a href="stdlib.html#cb636-13"></a>    <span class="dt">int</span> <span class="op">*</span>new_p <span class="op">=</span> realloc<span class="op">(</span>p<span class="op">,</span> <span class="dv">10</span> <span class="op">*</span> <span class="kw">sizeof</span><span class="op">(</span><span class="dt">int</span><span class="op">));</span></span>
<span id="cb636-14"><a href="stdlib.html#cb636-14"></a></span>
<span id="cb636-15"><a href="stdlib.html#cb636-15"></a>    <span class="cf">if</span> <span class="op">(</span>new_p <span class="op">==</span> NULL<span class="op">)</span> <span class="op">{</span></span>
<span id="cb636-16"><a href="stdlib.html#cb636-16"></a>        printf<span class="op">(</span><span class="st">&quot;Error reallocing</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">);</span></span>
<span id="cb636-17"><a href="stdlib.html#cb636-17"></a>    <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb636-18"><a href="stdlib.html#cb636-18"></a>        p <span class="op">=</span> new_p<span class="op">;</span>  <span class="co">// It&#39;s good; let&#39;s keep it</span></span>
<span id="cb636-19"><a href="stdlib.html#cb636-19"></a>        p<span class="op">[</span><span class="dv">7</span><span class="op">]</span> <span class="op">=</span> <span class="dv">99</span><span class="op">;</span></span>
<span id="cb636-20"><a href="stdlib.html#cb636-20"></a>    <span class="op">}</span></span>
<span id="cb636-21"><a href="stdlib.html#cb636-21"></a></span>
<span id="cb636-22"><a href="stdlib.html#cb636-22"></a>    <span class="co">// All done</span></span>
<span id="cb636-23"><a href="stdlib.html#cb636-23"></a>    free<span class="op">(</span>p<span class="op">);</span></span>
<span id="cb636-24"><a href="stdlib.html#cb636-24"></a><span class="op">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-173">See Also</h3>
<p><a href="stdlib.html#man-malloc"><code>malloc()</code></a>, <a href="stdlib.html#man-malloc"><code>calloc()</code></a></p>
<hr />
<h2 data-number="24.12" id="man-abort"><span class="header-section-number">24.12</span> <code>abort()</code></h2>
<p></p>
<p>Abruptly end program execution</p>
<h3 class="unnumbered unlisted" id="synopsis-184">Synopsis</h3>
<div class="sourceCode" id="cb637"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb637-1"><a href="stdlib.html#cb637-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb637-2"><a href="stdlib.html#cb637-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb637-3"><a href="stdlib.html#cb637-3" aria-hidden="true" tabindex="-1"></a><span class="kw">_Noreturn</span> <span class="dt">void</span> abort<span class="op">(</span><span class="dt">void</span><span class="op">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-184">Description</h3>
<p>This ends program execution <em>abnormally</em> and immediately. Use this in rare, unexpected circumstances.</p>
<p>Open streams might not be flushed. Temporary files created might not be removed. Exit handlers are not called.</p>
<p>A non-zero exit status is returned to the environment.</p>
<p>On some systems, <code>abort()</code> might <a href="https://en.wikipedia.org/wiki/Core_dump">dump core</a><a href="wctype.html#fn61" class="footnote-ref" id="fnref61" role="doc-noteref"><sup>61</sup></a>, but this is outside the scope of the spec.</p>
<p>You can cause the equivalent of an <code>abort()</code> by calling <code>raise(SIGABRT)</code>, but I don’t know why you’d do that.</p>
<p>The only portable way to stop an <code>abort()</code> call midway is to use <code>signal()</code> to catch <code>SIGABRT</code> and then <code>exit()</code> in the signal handler.</p>
<h3 class="unnumbered unlisted" id="return-value-182">Return Value</h3>
<p>This function never returns.</p>
<h3 class="unnumbered unlisted" id="example-185">Example</h3>
<div class="sourceCode" id="cb638"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb638-1"><a href="stdlib.html#cb638-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb638-2"><a href="stdlib.html#cb638-2"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb638-3"><a href="stdlib.html#cb638-3"></a></span>
<span id="cb638-4"><a href="stdlib.html#cb638-4"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb638-5"><a href="stdlib.html#cb638-5"></a><span class="op">{</span></span>
<span id="cb638-6"><a href="stdlib.html#cb638-6"></a>    <span class="dt">int</span> bad_thing <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb638-7"><a href="stdlib.html#cb638-7"></a></span>
<span id="cb638-8"><a href="stdlib.html#cb638-8"></a>    <span class="cf">if</span> <span class="op">(</span>bad_thing<span class="op">)</span> <span class="op">{</span></span>
<span id="cb638-9"><a href="stdlib.html#cb638-9"></a>        printf<span class="op">(</span><span class="st">&quot;This should never have happened!</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">);</span></span>
<span id="cb638-10"><a href="stdlib.html#cb638-10"></a>        fflush<span class="op">(</span>stdout<span class="op">);</span>  <span class="co">// Make sure the message goes out</span></span>
<span id="cb638-11"><a href="stdlib.html#cb638-11"></a>        abort<span class="op">();</span></span>
<span id="cb638-12"><a href="stdlib.html#cb638-12"></a>    <span class="op">}</span></span>
<span id="cb638-13"><a href="stdlib.html#cb638-13"></a><span class="op">}</span></span></code></pre></div>
<p>On my system, this outputs:</p>
<div class="sourceCode" id="cb639"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb639-1"><a href="stdlib.html#cb639-1" aria-hidden="true" tabindex="-1"></a>This should never have happened!</span>
<span id="cb639-2"><a href="stdlib.html#cb639-2" aria-hidden="true" tabindex="-1"></a>zsh: abort (core dumped)  ./foo</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-174">See Also</h3>
<p><a href="signal.html#man-signal"><code>signal()</code></a></p>
<hr />
<h2 data-number="24.13" id="man-atexit"><span class="header-section-number">24.13</span> <code>atexit()</code>, <code>at_quick_exit()</code></h2>
<p> </p>
<p>Set up handlers to run when the program exits</p>
<h3 class="unnumbered unlisted" id="synopsis-185">Synopsis</h3>
<div class="sourceCode" id="cb640"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb640-1"><a href="stdlib.html#cb640-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb640-2"><a href="stdlib.html#cb640-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb640-3"><a href="stdlib.html#cb640-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> atexit<span class="op">(</span><span class="dt">void</span> <span class="op">(*</span>func<span class="op">)(</span><span class="dt">void</span><span class="op">));</span></span>
<span id="cb640-4"><a href="stdlib.html#cb640-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb640-5"><a href="stdlib.html#cb640-5" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> at_quick_exit<span class="op">(</span><span class="dt">void</span> <span class="op">(*</span>func<span class="op">)(</span><span class="dt">void</span><span class="op">));</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-185">Description</h3>
<p>When the program does a normal exit with <code>exit()</code> or returns from <code>main()</code>, it looks for previously-registered handlers to call on the way out. These handlers are registered with the <code>atexit()</code> call.</p>
<p>Think of it like, “Hey, when you’re about to exit, do these extra things.”</p>
<p>For the <code>quick_exit()</code> call, you can use the <code>at_quick_exit()</code> function to register handlers for that<a href="wctype.html#fn62" class="footnote-ref" id="fnref62" role="doc-noteref"><sup>62</sup></a>. There’s no crossover in handlers from <code>exit()</code> to <code>quick_exit()</code>, i.e. for a call to one, none of the other’s handlers will fire.</p>
<p>You can register multiple handlers to fire—at least 32 handlers are supported by both <code>exit()</code> and <code>quick_exit()</code>.</p>
<p>The argument <code>func</code> to the functions looks a little weird—it’s a pointer to a function to call. Basically just put the function name to call in there (without parentheses after). See the example, below.</p>
<p>If you call <code>atexit()</code> from inside your <code>atexit()</code> handler (or equivalent in your <code>at_quick_exit()</code> handler), it’s unspecified if it will get called. So get them all registered before you exit.</p>
<p>When exiting, the functions will be called in the reverse order they were registered.</p>
<h3 class="unnumbered unlisted" id="return-value-183">Return Value</h3>
<p>These functions return <code>0</code> on success, or nonzero on failure.</p>
<h3 class="unnumbered unlisted" id="example-186">Example</h3>
<p><code>atexit()</code>:</p>
<div class="sourceCode" id="cb641"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb641-1"><a href="stdlib.html#cb641-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb641-2"><a href="stdlib.html#cb641-2"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb641-3"><a href="stdlib.html#cb641-3"></a></span>
<span id="cb641-4"><a href="stdlib.html#cb641-4"></a><span class="dt">void</span> exit_handler_1<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb641-5"><a href="stdlib.html#cb641-5"></a><span class="op">{</span></span>
<span id="cb641-6"><a href="stdlib.html#cb641-6"></a>    printf<span class="op">(</span><span class="st">&quot;Exit handler 1 called!</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">);</span></span>
<span id="cb641-7"><a href="stdlib.html#cb641-7"></a><span class="op">}</span></span>
<span id="cb641-8"><a href="stdlib.html#cb641-8"></a></span>
<span id="cb641-9"><a href="stdlib.html#cb641-9"></a><span class="dt">void</span> exit_handler_2<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb641-10"><a href="stdlib.html#cb641-10"></a><span class="op">{</span></span>
<span id="cb641-11"><a href="stdlib.html#cb641-11"></a>    printf<span class="op">(</span><span class="st">&quot;Exit handler 2 called!</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">);</span></span>
<span id="cb641-12"><a href="stdlib.html#cb641-12"></a><span class="op">}</span></span>
<span id="cb641-13"><a href="stdlib.html#cb641-13"></a></span>
<span id="cb641-14"><a href="stdlib.html#cb641-14"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb641-15"><a href="stdlib.html#cb641-15"></a><span class="op">{</span></span>
<span id="cb641-16"><a href="stdlib.html#cb641-16"></a>    atexit<span class="op">(</span>exit_handler_1<span class="op">);</span></span>
<span id="cb641-17"><a href="stdlib.html#cb641-17"></a>    atexit<span class="op">(</span>exit_handler_2<span class="op">);</span></span>
<span id="cb641-18"><a href="stdlib.html#cb641-18"></a></span>
<span id="cb641-19"><a href="stdlib.html#cb641-19"></a>    exit<span class="op">(</span><span class="dv">0</span><span class="op">);</span></span>
<span id="cb641-20"><a href="stdlib.html#cb641-20"></a><span class="op">}</span></span></code></pre></div>
<p>For the output:</p>
<div class="sourceCode" id="cb642"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb642-1"><a href="stdlib.html#cb642-1" aria-hidden="true" tabindex="-1"></a>Exit handler 2 called!</span>
<span id="cb642-2"><a href="stdlib.html#cb642-2" aria-hidden="true" tabindex="-1"></a>Exit handler 1 called!</span></code></pre></div>
<p>And a similar example with <code>quick_exit()</code>:</p>
<div class="sourceCode" id="cb643"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb643-1"><a href="stdlib.html#cb643-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb643-2"><a href="stdlib.html#cb643-2"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb643-3"><a href="stdlib.html#cb643-3"></a></span>
<span id="cb643-4"><a href="stdlib.html#cb643-4"></a><span class="dt">void</span> exit_handler_1<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb643-5"><a href="stdlib.html#cb643-5"></a><span class="op">{</span></span>
<span id="cb643-6"><a href="stdlib.html#cb643-6"></a>    printf<span class="op">(</span><span class="st">&quot;Exit handler 1 called!</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">);</span></span>
<span id="cb643-7"><a href="stdlib.html#cb643-7"></a><span class="op">}</span></span>
<span id="cb643-8"><a href="stdlib.html#cb643-8"></a></span>
<span id="cb643-9"><a href="stdlib.html#cb643-9"></a><span class="dt">void</span> exit_handler_2<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb643-10"><a href="stdlib.html#cb643-10"></a><span class="op">{</span></span>
<span id="cb643-11"><a href="stdlib.html#cb643-11"></a>    printf<span class="op">(</span><span class="st">&quot;Exit handler 2 called!</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">);</span></span>
<span id="cb643-12"><a href="stdlib.html#cb643-12"></a><span class="op">}</span></span>
<span id="cb643-13"><a href="stdlib.html#cb643-13"></a></span>
<span id="cb643-14"><a href="stdlib.html#cb643-14"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb643-15"><a href="stdlib.html#cb643-15"></a><span class="op">{</span></span>
<span id="cb643-16"><a href="stdlib.html#cb643-16"></a>    at_quick_exit<span class="op">(</span>exit_handler_1<span class="op">);</span></span>
<span id="cb643-17"><a href="stdlib.html#cb643-17"></a>    at_quick_exit<span class="op">(</span>exit_handler_2<span class="op">);</span></span>
<span id="cb643-18"><a href="stdlib.html#cb643-18"></a></span>
<span id="cb643-19"><a href="stdlib.html#cb643-19"></a>    quick_exit<span class="op">(</span><span class="dv">0</span><span class="op">);</span></span>
<span id="cb643-20"><a href="stdlib.html#cb643-20"></a><span class="op">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-175">See Also</h3>
<p><a href="stdlib.html#man-exit"><code>exit()</code></a>, <a href="stdlib.html#man-exit"><code>quick_exit()</code></a></p>
<hr />
<h2 data-number="24.14" id="man-exit"><span class="header-section-number">24.14</span> <code>exit()</code>, <code>quick_exit()</code>, <code>_Exit()</code></h2>
<p> </p>
<p>Exit the currently-running program</p>
<h3 class="unnumbered unlisted" id="synopsis-186">Synopsis</h3>
<div class="sourceCode" id="cb644"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb644-1"><a href="stdlib.html#cb644-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb644-2"><a href="stdlib.html#cb644-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb644-3"><a href="stdlib.html#cb644-3" aria-hidden="true" tabindex="-1"></a><span class="kw">_Noreturn</span> <span class="dt">void</span> exit<span class="op">(</span><span class="dt">int</span> status<span class="op">);</span></span>
<span id="cb644-4"><a href="stdlib.html#cb644-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb644-5"><a href="stdlib.html#cb644-5" aria-hidden="true" tabindex="-1"></a><span class="kw">_Noreturn</span> <span class="dt">void</span> quick_exit<span class="op">(</span><span class="dt">int</span> status<span class="op">);</span></span>
<span id="cb644-6"><a href="stdlib.html#cb644-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb644-7"><a href="stdlib.html#cb644-7" aria-hidden="true" tabindex="-1"></a><span class="kw">_Noreturn</span> <span class="dt">void</span> _Exit<span class="op">(</span><span class="dt">int</span> status<span class="op">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-186">Description</h3>
<p>All these functions cause the program to exit, with various levels of cleanup performed.</p>
<p><code>exit()</code> does the most cleanup and is the most normal exit.</p>
<p><code>quick_exit()</code> is the second most.</p>
<p><code>_Exit()</code> unceremoniously drops everything and ragequits on the spot.</p>
<p>Calling either of <code>exit()</code> or <code>quick_exit()</code> causes their respective <code>atexit()</code> or <code>at_quick_exit()</code> handlers to be called in the reverse order in which they were registered.</p>
<p><code>exit()</code> will flush all streams and delete all temporary files.</p>
<p><code>quick_exit()</code> or <code>_Exit()</code> might not perform that nicety.</p>
<p><code>_Exit()</code> doesn’t call any of the at-exit handlers, either.</p>
<p>For all functions, the exit <code>status</code> is returned to the environment.</p>
<p>Defined exit statuses are:</p>
<table>
<thead>
<tr class="header">
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>EXIT_SUCCESS</code></td>
<td>Typically returned when good things happen</td>
</tr>
<tr class="even">
<td><code>0</code></td>
<td>Same as <code>EXIT_SUCCESS</code></td>
</tr>
<tr class="odd">
<td><code>EXIT_FAILURE</code></td>
<td>Oh noes! Definitely failure!</td>
</tr>
<tr class="even">
<td>Any positive value</td>
<td>Generally indicates another failure of some kind</td>
</tr>
</tbody>
</table>
<p>OS X note: <code>quick_exit()</code> is not supported.</p>
<h3 class="unnumbered unlisted" id="return-value-184">Return Value</h3>
<p>None of these functions ever return.</p>
<h3 class="unnumbered unlisted" id="example-187">Example</h3>
<div class="sourceCode" id="cb645"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb645-1"><a href="stdlib.html#cb645-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb645-2"><a href="stdlib.html#cb645-2"></a></span>
<span id="cb645-3"><a href="stdlib.html#cb645-3"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb645-4"><a href="stdlib.html#cb645-4"></a><span class="op">{</span></span>
<span id="cb645-5"><a href="stdlib.html#cb645-5"></a>    <span class="dt">int</span> contrived_exit_type <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb645-6"><a href="stdlib.html#cb645-6"></a></span>
<span id="cb645-7"><a href="stdlib.html#cb645-7"></a>    <span class="cf">switch</span><span class="op">(</span>contrived_exit_type<span class="op">)</span> <span class="op">{</span></span>
<span id="cb645-8"><a href="stdlib.html#cb645-8"></a>        <span class="cf">case</span> <span class="dv">1</span><span class="op">:</span></span>
<span id="cb645-9"><a href="stdlib.html#cb645-9"></a>            exit<span class="op">(</span>EXIT_SUCCESS<span class="op">);</span></span>
<span id="cb645-10"><a href="stdlib.html#cb645-10"></a></span>
<span id="cb645-11"><a href="stdlib.html#cb645-11"></a>        <span class="cf">case</span> <span class="dv">2</span><span class="op">:</span></span>
<span id="cb645-12"><a href="stdlib.html#cb645-12"></a>            <span class="co">// Not supported in OS X</span></span>
<span id="cb645-13"><a href="stdlib.html#cb645-13"></a>            quick_exit<span class="op">(</span>EXIT_SUCCESS<span class="op">);</span></span>
<span id="cb645-14"><a href="stdlib.html#cb645-14"></a></span>
<span id="cb645-15"><a href="stdlib.html#cb645-15"></a>        <span class="cf">case</span> <span class="dv">3</span><span class="op">:</span></span>
<span id="cb645-16"><a href="stdlib.html#cb645-16"></a>            _Exit<span class="op">(</span><span class="dv">2</span><span class="op">);</span></span>
<span id="cb645-17"><a href="stdlib.html#cb645-17"></a>    <span class="op">}</span></span>
<span id="cb645-18"><a href="stdlib.html#cb645-18"></a><span class="op">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-176">See Also</h3>
<p><a href="stdlib.html#man-atexit"><code>atexit()</code></a>, <a href="stdlib.html#man-atexit"><code>at_quick_exit()</code></a></p>
<hr />
<h2 data-number="24.15" id="man-getenv"><span class="header-section-number">24.15</span> <code>getenv()</code></h2>
<p></p>
<p>Get the value of an environment variable</p>
<h3 class="unnumbered unlisted" id="synopsis-187">Synopsis</h3>
<div class="sourceCode" id="cb646"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb646-1"><a href="stdlib.html#cb646-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb646-2"><a href="stdlib.html#cb646-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb646-3"><a href="stdlib.html#cb646-3" aria-hidden="true" tabindex="-1"></a><span class="dt">char</span> <span class="op">*</span>getenv<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>name<span class="op">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-187">Description</h3>
<p>The environment often provides variables that are set before the program run that you can access at runtime.</p>
<p>Of course the exact details are system dependent, but these variables are key/value pairs, and you can get the value by passing the key to <code>getenv()</code> as the <code>name</code> parameter.</p>
<p>You’re not allowed to overwrite the string that’s returned.</p>
<p>This is pretty limited in the standard, but your OS often provides better functionality.</p>
<h3 class="unnumbered unlisted" id="return-value-185">Return Value</h3>
<p>Returns a pointer to the environment variable value, or <code>NULL</code> if the variable doesn’t exist.</p>
<h3 class="unnumbered unlisted" id="example-188">Example</h3>
<div class="sourceCode" id="cb647"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb647-1"><a href="stdlib.html#cb647-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb647-2"><a href="stdlib.html#cb647-2"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb647-3"><a href="stdlib.html#cb647-3"></a></span>
<span id="cb647-4"><a href="stdlib.html#cb647-4"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb647-5"><a href="stdlib.html#cb647-5"></a><span class="op">{</span></span>
<span id="cb647-6"><a href="stdlib.html#cb647-6"></a>    printf<span class="op">(</span><span class="st">&quot;PATH is </span><span class="sc">%s\n</span><span class="st">&quot;</span><span class="op">,</span> getenv<span class="op">(</span><span class="st">&quot;PATH&quot;</span><span class="op">));</span></span>
<span id="cb647-7"><a href="stdlib.html#cb647-7"></a><span class="op">}</span></span></code></pre></div>
<p>Output (truncated in my case):</p>
<div class="sourceCode" id="cb648"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb648-1"><a href="stdlib.html#cb648-1" aria-hidden="true" tabindex="-1"></a>PATH is /usr/bin:/usr/local/bin:/usr/sbin:/home/beej/.cargo/bin [...]</span></code></pre></div>
<!--
### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<hr />
<h2 data-number="24.16" id="man-system"><span class="header-section-number">24.16</span> <code>system()</code></h2>
<p></p>
<p>Run an external program</p>
<h3 class="unnumbered unlisted" id="synopsis-188">Synopsis</h3>
<div class="sourceCode" id="cb649"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb649-1"><a href="stdlib.html#cb649-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb649-2"><a href="stdlib.html#cb649-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb649-3"><a href="stdlib.html#cb649-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> system<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>string<span class="op">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-188">Description</h3>
<p>This will run an external program and then return to the caller.</p>
<p>The manner in which it runs the program is system-defined, but typically you can pass something to it just like you’d run on the command line, searching the <code>PATH</code>, etc.</p>
<p>Not all systems have this capability, but you can test for it by passing <code>NULL</code> to <code>system()</code> and seeing if it returns 0 (no command processor is available) or non-zero (a command processor is available! Yay!)</p>
<p>If you’re getting user input and passing it to the <code>system()</code> call, be extremely careful to escape all special shell characters (everything that’s not alphanumeric) with a backslash to keep a villain from running something you don’t want them to.</p>
<h3 class="unnumbered unlisted" id="return-value-186">Return Value</h3>
<p>If <code>NULL</code> is passed, returns nonzero if a command processor is available (i.e. <code>system()</code> will work at all).</p>
<p>Otherwise returns an implementation-defined value.</p>
<h3 class="unnumbered unlisted" id="example-189">Example</h3>
<div class="sourceCode" id="cb650"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb650-1"><a href="stdlib.html#cb650-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb650-2"><a href="stdlib.html#cb650-2"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb650-3"><a href="stdlib.html#cb650-3"></a></span>
<span id="cb650-4"><a href="stdlib.html#cb650-4"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb650-5"><a href="stdlib.html#cb650-5"></a><span class="op">{</span></span>
<span id="cb650-6"><a href="stdlib.html#cb650-6"></a>    printf<span class="op">(</span><span class="st">&quot;Here&#39;s a directory listing:</span><span class="sc">\n\n</span><span class="st">&quot;</span><span class="op">);</span></span>
<span id="cb650-7"><a href="stdlib.html#cb650-7"></a></span>
<span id="cb650-8"><a href="stdlib.html#cb650-8"></a>    system<span class="op">(</span><span class="st">&quot;ls -l&quot;</span><span class="op">);</span>   <span class="co">// Run this command and return</span></span>
<span id="cb650-9"><a href="stdlib.html#cb650-9"></a></span>
<span id="cb650-10"><a href="stdlib.html#cb650-10"></a>    printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">\n</span><span class="st">All done!</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">);</span></span>
<span id="cb650-11"><a href="stdlib.html#cb650-11"></a><span class="op">}</span></span></code></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb651"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb651-1"><a href="stdlib.html#cb651-1" aria-hidden="true" tabindex="-1"></a>Here&#39;s a directory listing:</span>
<span id="cb651-2"><a href="stdlib.html#cb651-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb651-3"><a href="stdlib.html#cb651-3" aria-hidden="true" tabindex="-1"></a>total 92</span>
<span id="cb651-4"><a href="stdlib.html#cb651-4" aria-hidden="true" tabindex="-1"></a>drwxr-xr-x 3 beej beej  4096 Oct 14 21:38 bin</span>
<span id="cb651-5"><a href="stdlib.html#cb651-5" aria-hidden="true" tabindex="-1"></a>drwxr-xr-x 2 beej beej  4096 Dec 20 20:07 examples</span>
<span id="cb651-6"><a href="stdlib.html#cb651-6" aria-hidden="true" tabindex="-1"></a>-rwxr-xr-x 1 beej beej 16656 Feb 23 21:49 foo</span>
<span id="cb651-7"><a href="stdlib.html#cb651-7" aria-hidden="true" tabindex="-1"></a>-rw-rw-rw- 1 beej beej   155 Feb 23 21:49 foo.c</span>
<span id="cb651-8"><a href="stdlib.html#cb651-8" aria-hidden="true" tabindex="-1"></a>-rw-r--r-- 1 beej beej  1350 Jan 27 22:11 Makefile</span>
<span id="cb651-9"><a href="stdlib.html#cb651-9" aria-hidden="true" tabindex="-1"></a>-rw-r--r-- 1 beej beej  4644 Jan 18 09:12 README.md</span>
<span id="cb651-10"><a href="stdlib.html#cb651-10" aria-hidden="true" tabindex="-1"></a>drwxr-xr-x 3 beej beej  4096 Feb 23 20:21 src</span>
<span id="cb651-11"><a href="stdlib.html#cb651-11" aria-hidden="true" tabindex="-1"></a>drwxr-xr-x 6 beej beej  4096 Feb 21 20:24 stage</span>
<span id="cb651-12"><a href="stdlib.html#cb651-12" aria-hidden="true" tabindex="-1"></a>drwxr-xr-x 2 beej beej  4096 Sep 27 20:54 translations</span>
<span id="cb651-13"><a href="stdlib.html#cb651-13" aria-hidden="true" tabindex="-1"></a>drwxr-xr-x 2 beej beej  4096 Sep 27 20:54 website</span>
<span id="cb651-14"><a href="stdlib.html#cb651-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb651-15"><a href="stdlib.html#cb651-15" aria-hidden="true" tabindex="-1"></a>All done!</span></code></pre></div>
<!--
### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<hr />
<h2 data-number="24.17" id="man-bsearch"><span class="header-section-number">24.17</span> <code>bsearch()</code></h2>
<p></p>
<p>Binary Search (maybe) an array of objects</p>
<h3 class="unnumbered unlisted" id="synopsis-189">Synopsis</h3>
<div class="sourceCode" id="cb652"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb652-1"><a href="stdlib.html#cb652-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb652-2"><a href="stdlib.html#cb652-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb652-3"><a href="stdlib.html#cb652-3" aria-hidden="true" tabindex="-1"></a><span class="co">// Pre-C23:</span></span>
<span id="cb652-4"><a href="stdlib.html#cb652-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb652-5"><a href="stdlib.html#cb652-5" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> <span class="op">*</span>bsearch<span class="op">(</span><span class="dt">const</span> <span class="dt">void</span> <span class="op">*</span>key<span class="op">,</span> <span class="dt">const</span> <span class="dt">void</span> <span class="op">*</span>base<span class="op">,</span></span>
<span id="cb652-6"><a href="stdlib.html#cb652-6" aria-hidden="true" tabindex="-1"></a>              <span class="dt">size_t</span> nmemb<span class="op">,</span> <span class="dt">size_t</span> size<span class="op">,</span></span>
<span id="cb652-7"><a href="stdlib.html#cb652-7" aria-hidden="true" tabindex="-1"></a>              <span class="dt">int</span> <span class="op">(*</span>compar<span class="op">)(</span><span class="dt">const</span> <span class="dt">void</span> <span class="op">*,</span> <span class="dt">const</span> <span class="dt">void</span> <span class="op">*));</span></span>
<span id="cb652-8"><a href="stdlib.html#cb652-8" aria-hidden="true" tabindex="-1"></a><span class="co">// C23:</span></span>
<span id="cb652-9"><a href="stdlib.html#cb652-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb652-10"><a href="stdlib.html#cb652-10" aria-hidden="true" tabindex="-1"></a>QVoid <span class="op">*</span>bsearch<span class="op">(</span><span class="dt">const</span> <span class="dt">void</span> <span class="op">*</span>key<span class="op">,</span> QVoid <span class="op">*</span>base<span class="op">,</span></span>
<span id="cb652-11"><a href="stdlib.html#cb652-11" aria-hidden="true" tabindex="-1"></a>               <span class="dt">size_t</span> nmemb<span class="op">,</span> <span class="dt">size_t</span> size<span class="op">,</span></span>
<span id="cb652-12"><a href="stdlib.html#cb652-12" aria-hidden="true" tabindex="-1"></a>               <span class="dt">int</span> <span class="op">(*</span>compar<span class="op">)(</span><span class="dt">const</span> <span class="dt">void</span> <span class="op">*,</span> <span class="dt">const</span> <span class="dt">void</span> <span class="op">*));</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-189">Description</h3>
<p>This crazy-looking function searches an array for a value.</p>
<p>It probably is a binary search or some fast, efficient search. But the spec doesn’t really say.</p>
<p>However, the array must be sorted! So binary search seems likely.</p>
<ul>
<li><code>key</code> is a pointer to the value to find.</li>
<li><code>base</code> is a pointer to the start of the array—the array must be sorted!</li>
<li><code>nmemb</code> is the number of elements in the array.</li>
<li><code>size</code> is the <code>sizeof</code> each element in the array.</li>
<li><code>compar</code> is a pointer to a function that will compare the key against other values.</li>
</ul>
<p>The comparison function takes the key as the first argument and the value to compare against as the second. It should return a negative number if the key is less than the value, <code>0</code> if the key equals the value, and a positive number if the key is greater than the value.</p>
<p>This is commonly computed by taking the difference between the key and the value to be compared. If subtraction is supported.</p>
<p>The return value from the <a href="stringref.html#man-strcmp"><code>strcmp()</code></a> function can be used for comparing strings.</p>
<p>Again, the array must be sorted according to the order of the comparison function before running <code>bsearch()</code>. Luckily for you, you can just call <a href="stdlib.html#man-qsort"><code>qsort()</code></a> with the same comparison function to get this done.</p>
<p>It’s a general-purpose function—it’ll search any type of array for anything. The catch is you have to write the comparison function.</p>
<p>And that’s not as scary as it looks. Jump down to the example</p>
<h3 class="unnumbered unlisted" id="return-value-187">Return Value</h3>
<p>The function returns a pointer to the found value, or <code>NULL</code> if it can’t be found.</p>
<p>New in C23: If <code>base</code> is <code>const</code>, the return type of the <code>bsearch()</code> function will also be <code>const</code>.</p>
<h3 class="unnumbered unlisted" id="example-190">Example</h3>
<div class="sourceCode" id="cb653"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb653-1"><a href="stdlib.html#cb653-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb653-2"><a href="stdlib.html#cb653-2"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb653-3"><a href="stdlib.html#cb653-3"></a></span>
<span id="cb653-4"><a href="stdlib.html#cb653-4"></a><span class="dt">int</span> compar<span class="op">(</span><span class="dt">const</span> <span class="dt">void</span> <span class="op">*</span>key<span class="op">,</span> <span class="dt">const</span> <span class="dt">void</span> <span class="op">*</span>value<span class="op">)</span></span>
<span id="cb653-5"><a href="stdlib.html#cb653-5"></a><span class="op">{</span></span>
<span id="cb653-6"><a href="stdlib.html#cb653-6"></a>    <span class="dt">const</span> <span class="dt">int</span> <span class="op">*</span>k <span class="op">=</span> key<span class="op">,</span> <span class="op">*</span>v <span class="op">=</span> value<span class="op">;</span>  <span class="co">// Need ints, not voids</span></span>
<span id="cb653-7"><a href="stdlib.html#cb653-7"></a></span>
<span id="cb653-8"><a href="stdlib.html#cb653-8"></a>    <span class="cf">return</span> <span class="op">*</span>k <span class="op">-</span> <span class="op">*</span>v<span class="op">;</span></span>
<span id="cb653-9"><a href="stdlib.html#cb653-9"></a><span class="op">}</span></span>
<span id="cb653-10"><a href="stdlib.html#cb653-10"></a></span>
<span id="cb653-11"><a href="stdlib.html#cb653-11"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb653-12"><a href="stdlib.html#cb653-12"></a><span class="op">{</span></span>
<span id="cb653-13"><a href="stdlib.html#cb653-13"></a>    <span class="dt">int</span> a<span class="op">[</span><span class="dv">9</span><span class="op">]</span> <span class="op">=</span> <span class="op">{</span><span class="dv">2</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">9</span><span class="op">,</span> <span class="dv">12</span><span class="op">,</span> <span class="dv">13</span><span class="op">,</span> <span class="dv">18</span><span class="op">,</span> <span class="dv">20</span><span class="op">,</span> <span class="dv">32</span><span class="op">,</span> <span class="dv">47</span><span class="op">};</span></span>
<span id="cb653-14"><a href="stdlib.html#cb653-14"></a></span>
<span id="cb653-15"><a href="stdlib.html#cb653-15"></a>    <span class="dt">int</span> <span class="op">*</span>r<span class="op">,</span> key<span class="op">;</span></span>
<span id="cb653-16"><a href="stdlib.html#cb653-16"></a></span>
<span id="cb653-17"><a href="stdlib.html#cb653-17"></a>    key <span class="op">=</span> <span class="dv">12</span><span class="op">;</span>  <span class="co">// 12 is in there</span></span>
<span id="cb653-18"><a href="stdlib.html#cb653-18"></a>    r <span class="op">=</span> bsearch<span class="op">(&amp;</span>key<span class="op">,</span> a<span class="op">,</span> <span class="dv">9</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span><span class="dt">int</span><span class="op">),</span> compar<span class="op">);</span></span>
<span id="cb653-19"><a href="stdlib.html#cb653-19"></a>    printf<span class="op">(</span><span class="st">&quot;Found </span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> <span class="op">*</span>r<span class="op">);</span></span>
<span id="cb653-20"><a href="stdlib.html#cb653-20"></a></span>
<span id="cb653-21"><a href="stdlib.html#cb653-21"></a>    key <span class="op">=</span> <span class="dv">30</span><span class="op">;</span>  <span class="co">// Won&#39;t find a 30</span></span>
<span id="cb653-22"><a href="stdlib.html#cb653-22"></a>    r <span class="op">=</span> bsearch<span class="op">(&amp;</span>key<span class="op">,</span> a<span class="op">,</span> <span class="dv">9</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span><span class="dt">int</span><span class="op">),</span> compar<span class="op">);</span></span>
<span id="cb653-23"><a href="stdlib.html#cb653-23"></a>    <span class="cf">if</span> <span class="op">(</span>r <span class="op">==</span> NULL<span class="op">)</span></span>
<span id="cb653-24"><a href="stdlib.html#cb653-24"></a>        printf<span class="op">(</span><span class="st">&quot;Didn&#39;t find 30</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">);</span></span>
<span id="cb653-25"><a href="stdlib.html#cb653-25"></a></span>
<span id="cb653-26"><a href="stdlib.html#cb653-26"></a>    <span class="co">// Searching with an unnamed key, pointer to 32</span></span>
<span id="cb653-27"><a href="stdlib.html#cb653-27"></a>    r <span class="op">=</span> bsearch<span class="op">(&amp;(</span><span class="dt">int</span><span class="op">){</span><span class="dv">32</span><span class="op">},</span> a<span class="op">,</span> <span class="dv">9</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span><span class="dt">int</span><span class="op">),</span> compar<span class="op">);</span></span>
<span id="cb653-28"><a href="stdlib.html#cb653-28"></a>    printf<span class="op">(</span><span class="st">&quot;Found </span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> <span class="op">*</span>r<span class="op">);</span>  <span class="co">// Found it</span></span>
<span id="cb653-29"><a href="stdlib.html#cb653-29"></a><span class="op">}</span></span></code></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb654"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb654-1"><a href="stdlib.html#cb654-1" aria-hidden="true" tabindex="-1"></a>Found 12</span>
<span id="cb654-2"><a href="stdlib.html#cb654-2" aria-hidden="true" tabindex="-1"></a>Didn&#39;t find 30</span>
<span id="cb654-3"><a href="stdlib.html#cb654-3" aria-hidden="true" tabindex="-1"></a>Found 32</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-177">See Also</h3>
<p><a href="stringref.html#man-strcmp"><code>strcmp()</code></a>, <a href="stdlib.html#man-qsort"><code>qsort()</code></a></p>
<hr />
<h2 data-number="24.18" id="man-qsort"><span class="header-section-number">24.18</span> <code>qsort()</code></h2>
<p></p>
<p>Quicksort (maybe) some data</p>
<h3 class="unnumbered unlisted" id="synopsis-190">Synopsis</h3>
<div class="sourceCode" id="cb655"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb655-1"><a href="stdlib.html#cb655-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb655-2"><a href="stdlib.html#cb655-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb655-3"><a href="stdlib.html#cb655-3" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> qsort<span class="op">(</span><span class="dt">void</span> <span class="op">*</span>base<span class="op">,</span> <span class="dt">size_t</span> nmemb<span class="op">,</span> <span class="dt">size_t</span> size<span class="op">,</span></span>
<span id="cb655-4"><a href="stdlib.html#cb655-4" aria-hidden="true" tabindex="-1"></a>           <span class="dt">int</span> <span class="op">(*</span>compar<span class="op">)(</span><span class="dt">const</span> <span class="dt">void</span> <span class="op">*,</span> <span class="dt">const</span> <span class="dt">void</span> <span class="op">*));</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-190">Description</h3>
<p>This function will quicksort (or some other sort, probably speedy) an array of data in-place<a href="wctype.html#fn63" class="footnote-ref" id="fnref63" role="doc-noteref"><sup>63</sup></a>.</p>
<p>Like <code>bsearch()</code>, it’s data-agnostic. Any data for which you can define a relative ordering can be sorted, whether <code>int</code>s, <code>struct</code>s, or anything else.</p>
<p>Also like <code>bsearch()</code>, you have to give a comparison function to do the actual compare.</p>
<ul>
<li><code>base</code> is a pointer to the start of the array to be sorted.</li>
<li><code>nmemb</code> is the number of elements in the array.</li>
<li><code>size</code> is the <code>sizeof</code> each element.</li>
<li><code>compar</code> is a pointer to the comparison function.</li>
</ul>
<p>The comparison function takes pointers to two elements of the array as arguments and compares them. It should return a negative number if the first argument is less than the second, <code>0</code> if they are equal, and a positive number if the first argument is greater than the second.</p>
<p>This is commonly computed by taking the difference between the first argument and the second. If subtraction is supported.</p>
<p>The return value from the <a href="stringref.html#man-strcmp"><code>strcmp()</code></a> function can provide sort order for strings.</p>
<p>If you have to sort a <code>struct</code>, just subtract the specific field you want to sort by.</p>
<p>This comparison function can be used by <a href="stdlib.html#man-bsearch"><code>bsearch()</code></a> to do searches after the list is sorted.</p>
<p>To reverse the sort, subtract the second argument from the first, i.e. negate the return value from <code>compar()</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-188">Return Value</h3>
<p>Returns nothing!</p>
<h3 class="unnumbered unlisted" id="example-191">Example</h3>
<div class="sourceCode" id="cb656"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb656-1"><a href="stdlib.html#cb656-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb656-2"><a href="stdlib.html#cb656-2"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb656-3"><a href="stdlib.html#cb656-3"></a></span>
<span id="cb656-4"><a href="stdlib.html#cb656-4"></a><span class="dt">int</span> compar<span class="op">(</span><span class="dt">const</span> <span class="dt">void</span> <span class="op">*</span>elem0<span class="op">,</span> <span class="dt">const</span> <span class="dt">void</span> <span class="op">*</span>elem1<span class="op">)</span></span>
<span id="cb656-5"><a href="stdlib.html#cb656-5"></a><span class="op">{</span></span>
<span id="cb656-6"><a href="stdlib.html#cb656-6"></a>    <span class="dt">const</span> <span class="dt">int</span> <span class="op">*</span>x <span class="op">=</span> elem0<span class="op">,</span> <span class="op">*</span>y <span class="op">=</span> elem1<span class="op">;</span>  <span class="co">// Need ints, not voids</span></span>
<span id="cb656-7"><a href="stdlib.html#cb656-7"></a></span>
<span id="cb656-8"><a href="stdlib.html#cb656-8"></a>    <span class="cf">if</span> <span class="op">(*</span>x <span class="op">&gt;</span> <span class="op">*</span>y<span class="op">)</span> <span class="cf">return</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb656-9"><a href="stdlib.html#cb656-9"></a>    <span class="cf">if</span> <span class="op">(*</span>x <span class="op">&lt;</span> <span class="op">*</span>y<span class="op">)</span> <span class="cf">return</span> <span class="op">-</span><span class="dv">1</span><span class="op">;</span></span>
<span id="cb656-10"><a href="stdlib.html#cb656-10"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb656-11"><a href="stdlib.html#cb656-11"></a><span class="op">}</span></span>
<span id="cb656-12"><a href="stdlib.html#cb656-12"></a></span>
<span id="cb656-13"><a href="stdlib.html#cb656-13"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb656-14"><a href="stdlib.html#cb656-14"></a><span class="op">{</span></span>
<span id="cb656-15"><a href="stdlib.html#cb656-15"></a>    <span class="dt">int</span> a<span class="op">[</span><span class="dv">9</span><span class="op">]</span> <span class="op">=</span> <span class="op">{</span><span class="dv">14</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">17</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">8</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">13</span><span class="op">};</span></span>
<span id="cb656-16"><a href="stdlib.html#cb656-16"></a></span>
<span id="cb656-17"><a href="stdlib.html#cb656-17"></a>    <span class="co">// Sort the list</span></span>
<span id="cb656-18"><a href="stdlib.html#cb656-18"></a></span>
<span id="cb656-19"><a href="stdlib.html#cb656-19"></a>    qsort<span class="op">(</span>a<span class="op">,</span> <span class="dv">9</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span><span class="dt">int</span><span class="op">),</span> compar<span class="op">);</span></span>
<span id="cb656-20"><a href="stdlib.html#cb656-20"></a></span>
<span id="cb656-21"><a href="stdlib.html#cb656-21"></a>    <span class="co">// Print sorted list</span></span>
<span id="cb656-22"><a href="stdlib.html#cb656-22"></a></span>
<span id="cb656-23"><a href="stdlib.html#cb656-23"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">9</span><span class="op">;</span> i<span class="op">++)</span></span>
<span id="cb656-24"><a href="stdlib.html#cb656-24"></a>        printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d</span><span class="st"> &quot;</span><span class="op">,</span> a<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb656-25"><a href="stdlib.html#cb656-25"></a></span>
<span id="cb656-26"><a href="stdlib.html#cb656-26"></a>    putchar<span class="op">(</span><span class="ch">&#39;</span><span class="sc">\n</span><span class="ch">&#39;</span><span class="op">);</span></span>
<span id="cb656-27"><a href="stdlib.html#cb656-27"></a></span>
<span id="cb656-28"><a href="stdlib.html#cb656-28"></a>    <span class="co">// Use the same compar() function to binary search</span></span>
<span id="cb656-29"><a href="stdlib.html#cb656-29"></a>    <span class="co">// for 17 (passed in as an unnamed object)</span></span>
<span id="cb656-30"><a href="stdlib.html#cb656-30"></a></span>
<span id="cb656-31"><a href="stdlib.html#cb656-31"></a>    <span class="dt">int</span> <span class="op">*</span>r <span class="op">=</span> bsearch<span class="op">(&amp;(</span><span class="dt">int</span><span class="op">){</span><span class="dv">17</span><span class="op">},</span> a<span class="op">,</span> <span class="dv">9</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span><span class="dt">int</span><span class="op">),</span> compar<span class="op">);</span></span>
<span id="cb656-32"><a href="stdlib.html#cb656-32"></a>    printf<span class="op">(</span><span class="st">&quot;Found </span><span class="sc">%d</span><span class="st">!</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">,</span> <span class="op">*</span>r<span class="op">);</span></span>
<span id="cb656-33"><a href="stdlib.html#cb656-33"></a><span class="op">}</span></span></code></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb657"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb657-1"><a href="stdlib.html#cb657-1" aria-hidden="true" tabindex="-1"></a>1 2 3 6 8 10 13 14 17</span>
<span id="cb657-2"><a href="stdlib.html#cb657-2" aria-hidden="true" tabindex="-1"></a>Found 17!</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-178">See Also</h3>
<p><a href="stringref.html#man-strcmp"><code>strcmp()</code></a>, <a href="stdlib.html#man-bsearch"><code>bsearch()</code></a></p>
<hr />
<h2 data-number="24.19" id="man-abs"><span class="header-section-number">24.19</span> <code>abs()</code>, <code>labs()</code>, <code>llabs()</code></h2>
<p> </p>
<p>Compute the absolute value of an integer</p>
<h3 class="unnumbered unlisted" id="synopsis-191">Synopsis</h3>
<div class="sourceCode" id="cb658"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb658-1"><a href="stdlib.html#cb658-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb658-2"><a href="stdlib.html#cb658-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb658-3"><a href="stdlib.html#cb658-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> abs<span class="op">(</span><span class="dt">int</span> j<span class="op">);</span></span>
<span id="cb658-4"><a href="stdlib.html#cb658-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb658-5"><a href="stdlib.html#cb658-5" aria-hidden="true" tabindex="-1"></a><span class="dt">long</span> <span class="dt">int</span> labs<span class="op">(</span><span class="dt">long</span> <span class="dt">int</span> j<span class="op">);</span></span>
<span id="cb658-6"><a href="stdlib.html#cb658-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb658-7"><a href="stdlib.html#cb658-7" aria-hidden="true" tabindex="-1"></a><span class="dt">long</span> <span class="dt">long</span> <span class="dt">int</span> llabs<span class="op">(</span><span class="dt">long</span> <span class="dt">long</span> <span class="dt">int</span> j<span class="op">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-191">Description</h3>
<p>Compute the absolute value of <code>j</code>. If you don’t remember, that’s how far from zero <code>j</code> is.</p>
<p>In other words, if <code>j</code> is negative, return it as a positive. If it’s positive, return it as a positive. Always be positive. Enjoy life.</p>
<p>If the result cannot be represented, the behavior is undefined. Be especially aware of the upper half of unsigned numbers.</p>
<h3 class="unnumbered unlisted" id="return-value-189">Return Value</h3>
<p>Returns the absolute value of <code>j</code>, <span class="math inline">\(|j|\)</span>.</p>
<h3 class="unnumbered unlisted" id="example-192">Example</h3>
<div class="sourceCode" id="cb659"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb659-1"><a href="stdlib.html#cb659-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb659-2"><a href="stdlib.html#cb659-2"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb659-3"><a href="stdlib.html#cb659-3"></a></span>
<span id="cb659-4"><a href="stdlib.html#cb659-4"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb659-5"><a href="stdlib.html#cb659-5"></a><span class="op">{</span></span>
<span id="cb659-6"><a href="stdlib.html#cb659-6"></a>    printf<span class="op">(</span><span class="st">&quot;|-2| = </span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> abs<span class="op">(-</span><span class="dv">2</span><span class="op">));</span></span>
<span id="cb659-7"><a href="stdlib.html#cb659-7"></a>    printf<span class="op">(</span><span class="st">&quot;|4|  = </span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> abs<span class="op">(</span><span class="dv">4</span><span class="op">));</span></span>
<span id="cb659-8"><a href="stdlib.html#cb659-8"></a><span class="op">}</span></span></code></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb660"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb660-1"><a href="stdlib.html#cb660-1" aria-hidden="true" tabindex="-1"></a>|-2| = 2</span>
<span id="cb660-2"><a href="stdlib.html#cb660-2" aria-hidden="true" tabindex="-1"></a>|4|  = 4</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-179">See Also</h3>
<p><a href="math.html#man-fabs"><code>fabs()</code></a></p>
<hr />
<h2 data-number="24.20" id="man-div"><span class="header-section-number">24.20</span> <code>div()</code>, <code>ldiv()</code>, <code>lldiv()</code></h2>
<p> </p>
<p>Compute the quotient and remainder of two numbers</p>
<h3 class="unnumbered unlisted" id="synopsis-192">Synopsis</h3>
<div class="sourceCode" id="cb661"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb661-1"><a href="stdlib.html#cb661-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb661-2"><a href="stdlib.html#cb661-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb661-3"><a href="stdlib.html#cb661-3" aria-hidden="true" tabindex="-1"></a>div_t div<span class="op">(</span><span class="dt">int</span> numer<span class="op">,</span> <span class="dt">int</span> denom<span class="op">);</span></span>
<span id="cb661-4"><a href="stdlib.html#cb661-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb661-5"><a href="stdlib.html#cb661-5" aria-hidden="true" tabindex="-1"></a>ldiv_t ldiv<span class="op">(</span><span class="dt">long</span> <span class="dt">int</span> numer<span class="op">,</span> <span class="dt">long</span> <span class="dt">int</span> denom<span class="op">);</span></span>
<span id="cb661-6"><a href="stdlib.html#cb661-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb661-7"><a href="stdlib.html#cb661-7" aria-hidden="true" tabindex="-1"></a>lldiv_t lldiv<span class="op">(</span><span class="dt">long</span> <span class="dt">long</span> <span class="dt">int</span> numer<span class="op">,</span> <span class="dt">long</span> <span class="dt">long</span> <span class="dt">int</span> denom<span class="op">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-192">Description</h3>
<p>These functions get you the quotient and remainder of a pair of numbers in one go.</p>
<p>They return a structure that has two fields, <code>quot</code>, and <code>rem</code>, the types of which match types of <code>numer</code> and <code>denom</code>. Note how each function returns a different variant of <code>div_t</code>.</p>
<p>These <code>div_t</code> variants are equivalent to the following:</p>
<div class="sourceCode" id="cb662"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb662-1"><a href="stdlib.html#cb662-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb662-2"><a href="stdlib.html#cb662-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> quot<span class="op">,</span> rem<span class="op">;</span></span>
<span id="cb662-3"><a href="stdlib.html#cb662-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span> div_t<span class="op">;</span></span>
<span id="cb662-4"><a href="stdlib.html#cb662-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb662-5"><a href="stdlib.html#cb662-5" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb662-6"><a href="stdlib.html#cb662-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">long</span> <span class="dt">int</span> quot<span class="op">,</span> rem<span class="op">;</span></span>
<span id="cb662-7"><a href="stdlib.html#cb662-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span> ldiv_t<span class="op">;</span></span>
<span id="cb662-8"><a href="stdlib.html#cb662-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb662-9"><a href="stdlib.html#cb662-9" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb662-10"><a href="stdlib.html#cb662-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">long</span> <span class="dt">long</span> <span class="dt">int</span> quot<span class="op">,</span> rem<span class="op">;</span></span>
<span id="cb662-11"><a href="stdlib.html#cb662-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span> lldiv_t<span class="op">;</span></span></code></pre></div>
<p>Why use these instead of the division operator?</p>
<p>The C99 Rationale says:</p>
<blockquote>
<p>Because C89 had implementation-defined semantics for division of signed integers when negative operands were involved, <code>div</code> and <code>ldiv</code>, and <code>lldiv</code> in C99, were invented to provide well-specified semantics for signed integer division and remainder operations. The semantics were adopted to be the same as in Fortran. Since these functions return both the quotient and the remainder, they also serve as a convenient way of efficiently modeling underlying hardware that computes both results as part of the same operation. Table 7.2 summarizes the semantics of these functions.</p>
</blockquote>
<p>Indeed, K&amp;R2 (C89) says:</p>
<blockquote>
<p>The direction of truncation for <code>/</code> and the sign of the result for <code>%</code> are machine-dependent for negative operands […]</p>
</blockquote>
<p>The Rationale then goes on to spell out what the signs of the quotient and remainder will be given the signs of a numerator and denominator when using the <code>div()</code> functions:</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;"><code>numer</code></th>
<th style="text-align: center;"><code>denom</code></th>
<th style="text-align: center;"><code>quot</code></th>
<th style="text-align: center;"><code>rem</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(+\)</span></td>
<td style="text-align: center;"><span class="math inline">\(+\)</span></td>
<td style="text-align: center;"><span class="math inline">\(+\)</span></td>
<td style="text-align: center;"><span class="math inline">\(+\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(-\)</span></td>
<td style="text-align: center;"><span class="math inline">\(+\)</span></td>
<td style="text-align: center;"><span class="math inline">\(-\)</span></td>
<td style="text-align: center;"><span class="math inline">\(-\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(+\)</span></td>
<td style="text-align: center;"><span class="math inline">\(-\)</span></td>
<td style="text-align: center;"><span class="math inline">\(-\)</span></td>
<td style="text-align: center;"><span class="math inline">\(+\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(-\)</span></td>
<td style="text-align: center;"><span class="math inline">\(-\)</span></td>
<td style="text-align: center;"><span class="math inline">\(+\)</span></td>
<td style="text-align: center;"><span class="math inline">\(-\)</span></td>
</tr>
</tbody>
</table>
<h3 class="unnumbered unlisted" id="return-value-190">Return Value</h3>
<p>A <code>div_t</code>, <code>ldiv_t</code>, or <code>lldiv_t</code> structure with the <code>quot</code> and <code>rem</code> fields loaded with the quotient and remainder of the operation of <code>numer/denom</code>.</p>
<h3 class="unnumbered unlisted" id="example-193">Example</h3>
<div class="sourceCode" id="cb663"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb663-1"><a href="stdlib.html#cb663-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb663-2"><a href="stdlib.html#cb663-2"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb663-3"><a href="stdlib.html#cb663-3"></a></span>
<span id="cb663-4"><a href="stdlib.html#cb663-4"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb663-5"><a href="stdlib.html#cb663-5"></a><span class="op">{</span></span>
<span id="cb663-6"><a href="stdlib.html#cb663-6"></a>    div_t d <span class="op">=</span> div<span class="op">(</span><span class="dv">64</span><span class="op">,</span> <span class="op">-</span><span class="dv">7</span><span class="op">);</span></span>
<span id="cb663-7"><a href="stdlib.html#cb663-7"></a></span>
<span id="cb663-8"><a href="stdlib.html#cb663-8"></a>    printf<span class="op">(</span><span class="st">&quot;64 / -7 = </span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> d<span class="op">.</span>quot<span class="op">);</span></span>
<span id="cb663-9"><a href="stdlib.html#cb663-9"></a>    printf<span class="op">(</span><span class="st">&quot;64 </span><span class="sc">%%</span><span class="st"> -7 = </span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> d<span class="op">.</span>rem<span class="op">);</span></span>
<span id="cb663-10"><a href="stdlib.html#cb663-10"></a><span class="op">}</span></span></code></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb664"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb664-1"><a href="stdlib.html#cb664-1" aria-hidden="true" tabindex="-1"></a>64 / -7 = -9</span>
<span id="cb664-2"><a href="stdlib.html#cb664-2" aria-hidden="true" tabindex="-1"></a>64 % -7 = 1</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-180">See Also</h3>
<p><a href="math.html#man-fmod"><code>fmod()</code></a>, <a href="math.html#man-remainder"><code>remainder()</code></a></p>
<hr />
<h2 data-number="24.21" id="man-mblen"><span class="header-section-number">24.21</span> <code>mblen()</code></h2>
<p></p>
<p>Return the number of bytes in a multibyte character</p>
<h3 class="unnumbered unlisted" id="synopsis-193">Synopsis</h3>
<div class="sourceCode" id="cb665"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb665-1"><a href="stdlib.html#cb665-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb665-2"><a href="stdlib.html#cb665-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb665-3"><a href="stdlib.html#cb665-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> mblen<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span>s<span class="op">,</span> <span class="dt">size_t</span> n<span class="op">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-193">Description</h3>
<p>If you have a multibyte character in a string, this will tell you how many bytes long it is.</p>
<p><code>n</code> is the maximum number of bytes <code>mblen()</code> will scan before giving up.</p>
<p>If <code>s</code> is a <code>NULL</code> pointer, tests if this encoding has state dependency, as noted in the return value, below. It also resets the state, if there is one.</p>
<p>The behavior of this function is influenced by the locale.</p>
<h3 class="unnumbered unlisted" id="return-value-191">Return Value</h3>
<p>Returns the number of bytes used to encode this character, or <code>-1</code> if there is no valid multibyte character in the next <code>n</code> bytes.</p>
<p>Or, if <code>s</code> is NULL, returns true if this encoding has state dependency.</p>
<h3 class="unnumbered unlisted" id="example-194">Example</h3>
<p>For the example, I used my extended character set to put Unicode characters in the source. If this doesn’t work for you, use the <code>\uXXXX</code> escape.</p>
<div class="sourceCode" id="cb666"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb666-1"><a href="stdlib.html#cb666-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb666-2"><a href="stdlib.html#cb666-2"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb666-3"><a href="stdlib.html#cb666-3"></a><span class="pp">#include </span><span class="im">&lt;locale.h&gt;</span></span>
<span id="cb666-4"><a href="stdlib.html#cb666-4"></a></span>
<span id="cb666-5"><a href="stdlib.html#cb666-5"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb666-6"><a href="stdlib.html#cb666-6"></a><span class="op">{</span></span>
<span id="cb666-7"><a href="stdlib.html#cb666-7"></a>    setlocale<span class="op">(</span>LC_ALL<span class="op">,</span> <span class="st">&quot;&quot;</span><span class="op">);</span></span>
<span id="cb666-8"><a href="stdlib.html#cb666-8"></a></span>
<span id="cb666-9"><a href="stdlib.html#cb666-9"></a>    printf<span class="op">(</span><span class="st">&quot;State dependency: </span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> mblen<span class="op">(</span>NULL<span class="op">,</span> <span class="dv">0</span><span class="op">));</span></span>
<span id="cb666-10"><a href="stdlib.html#cb666-10"></a>    printf<span class="op">(</span><span class="st">&quot;Bytes for €: </span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> mblen<span class="op">(</span><span class="st">&quot;€&quot;</span><span class="op">,</span> <span class="dv">5</span><span class="op">));</span></span>
<span id="cb666-11"><a href="stdlib.html#cb666-11"></a>    printf<span class="op">(</span><span class="st">&quot;Bytes for </span><span class="sc">\u00e9</span><span class="st">: </span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> mblen<span class="op">(</span><span class="st">&quot;</span><span class="sc">\u00e9</span><span class="st">&quot;</span><span class="op">,</span> <span class="dv">5</span><span class="op">));</span>  <span class="co">// \u00e9 == é</span></span>
<span id="cb666-12"><a href="stdlib.html#cb666-12"></a>    printf<span class="op">(</span><span class="st">&quot;Bytes for &amp;: </span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> mblen<span class="op">(</span><span class="st">&quot;&amp;&quot;</span><span class="op">,</span> <span class="dv">5</span><span class="op">));</span></span>
<span id="cb666-13"><a href="stdlib.html#cb666-13"></a><span class="op">}</span></span></code></pre></div>
<p>Output (in my case, the encoding is UTF-8, but your mileage may vary):</p>
<div class="sourceCode" id="cb667"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb667-1"><a href="stdlib.html#cb667-1" aria-hidden="true" tabindex="-1"></a>State dependency: 0</span>
<span id="cb667-2"><a href="stdlib.html#cb667-2" aria-hidden="true" tabindex="-1"></a>Bytes for €: 3</span>
<span id="cb667-3"><a href="stdlib.html#cb667-3" aria-hidden="true" tabindex="-1"></a>Bytes for é: 2</span>
<span id="cb667-4"><a href="stdlib.html#cb667-4" aria-hidden="true" tabindex="-1"></a>Bytes for &amp;: 1</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-181">See Also</h3>
<p><a href="stdlib.html#man-mbtowc"><code>mbtowc()</code></a>, <a href="stdlib.html#man-mbstowcs"><code>mbstowcs())</code></a>, <a href="locale.html#man-setlocale"><code>setlocale()</code></a></p>
<hr />
<h2 data-number="24.22" id="man-mbtowc"><span class="header-section-number">24.22</span> <code>mbtowc()</code></h2>
<p></p>
<p>Convert a multibyte character to a wide character</p>
<h3 class="unnumbered unlisted" id="synopsis-194">Synopsis</h3>
<div class="sourceCode" id="cb668"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb668-1"><a href="stdlib.html#cb668-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb668-2"><a href="stdlib.html#cb668-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb668-3"><a href="stdlib.html#cb668-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> mbtowc<span class="op">(</span><span class="dt">wchar_t</span> <span class="op">*</span> <span class="dt">restrict</span> pwc<span class="op">,</span> <span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span> <span class="dt">restrict</span> s<span class="op">,</span> <span class="dt">size_t</span> n<span class="op">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-194">Description</h3>
<p>If you have a multibyte character, this function will convert it to a wide character and stored at the address pointed to by <code>pwc</code>. Up to <code>n</code> bytes of the multibyte character will be analyzed.</p>
<p>If <code>pwc</code> is <code>NULL</code>, the resulting character will not be stored. (Useful for just getting the return value.)</p>
<p>If <code>s</code> is a <code>NULL</code> pointer, tests if this encoding has state dependency, as noted in the return value, below. It also resets the state, if there is one.</p>
<p>The behavior of this function is influenced by the locale.</p>
<h3 class="unnumbered unlisted" id="return-value-192">Return Value</h3>
<p>Returns the number of bytes used in the encoded wide character, or <code>-1</code> if there is no valid multibyte character in the next <code>n</code> bytes.</p>
<p>Returns <code>0</code> if <code>s</code> points to the NUL character.</p>
<p>Or, if <code>s</code> is NULL, returns true if this encoding has state dependency.</p>
<h3 class="unnumbered unlisted" id="example-195">Example</h3>
<div class="sourceCode" id="cb669"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb669-1"><a href="stdlib.html#cb669-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb669-2"><a href="stdlib.html#cb669-2"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb669-3"><a href="stdlib.html#cb669-3"></a><span class="pp">#include </span><span class="im">&lt;locale.h&gt;</span></span>
<span id="cb669-4"><a href="stdlib.html#cb669-4"></a><span class="pp">#include </span><span class="im">&lt;wchar.h&gt;</span></span>
<span id="cb669-5"><a href="stdlib.html#cb669-5"></a></span>
<span id="cb669-6"><a href="stdlib.html#cb669-6"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb669-7"><a href="stdlib.html#cb669-7"></a><span class="op">{</span></span>
<span id="cb669-8"><a href="stdlib.html#cb669-8"></a>    setlocale<span class="op">(</span>LC_ALL<span class="op">,</span> <span class="st">&quot;&quot;</span><span class="op">);</span></span>
<span id="cb669-9"><a href="stdlib.html#cb669-9"></a></span>
<span id="cb669-10"><a href="stdlib.html#cb669-10"></a>    printf<span class="op">(</span><span class="st">&quot;State dependency: </span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> mbtowc<span class="op">(</span>NULL<span class="op">,</span> NULL<span class="op">,</span> <span class="dv">0</span><span class="op">));</span></span>
<span id="cb669-11"><a href="stdlib.html#cb669-11"></a></span>
<span id="cb669-12"><a href="stdlib.html#cb669-12"></a>    <span class="dt">wchar_t</span> wc<span class="op">;</span></span>
<span id="cb669-13"><a href="stdlib.html#cb669-13"></a>    <span class="dt">int</span> bytes<span class="op">;</span></span>
<span id="cb669-14"><a href="stdlib.html#cb669-14"></a></span>
<span id="cb669-15"><a href="stdlib.html#cb669-15"></a>    bytes <span class="op">=</span> mbtowc<span class="op">(&amp;</span>wc<span class="op">,</span> <span class="st">&quot;€&quot;</span><span class="op">,</span> <span class="dv">5</span><span class="op">);</span></span>
<span id="cb669-16"><a href="stdlib.html#cb669-16"></a></span>
<span id="cb669-17"><a href="stdlib.html#cb669-17"></a>    printf<span class="op">(</span><span class="st">&quot;L&#39;</span><span class="sc">%lc</span><span class="st">&#39; takes </span><span class="sc">%d</span><span class="st"> bytes as multibyte char &#39;€&#39;</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">,</span> wc<span class="op">,</span> bytes<span class="op">);</span></span>
<span id="cb669-18"><a href="stdlib.html#cb669-18"></a><span class="op">}</span></span></code></pre></div>
<p>Output on my system:</p>
<div class="sourceCode" id="cb670"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb670-1"><a href="stdlib.html#cb670-1" aria-hidden="true" tabindex="-1"></a>State dependency: 0</span>
<span id="cb670-2"><a href="stdlib.html#cb670-2" aria-hidden="true" tabindex="-1"></a>L&#39;€&#39; takes 3 bytes as multibyte char &#39;€&#39;</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-182">See Also</h3>
<p><a href="stdlib.html#man-mblen"><code>mblen()</code></a>, <a href="stdlib.html#man-mbstowcs"><code>mbstowcs()</code></a>, <a href="stdlib.html#man-wcstombs"><code>wcstombs()</code></a>, <a href="locale.html#man-setlocale"><code>setlocale()</code></a></p>
<hr />
<h2 data-number="24.23" id="man-wctomb"><span class="header-section-number">24.23</span> <code>wctomb()</code></h2>
<p></p>
<p>Convert a wide character to a multibyte character</p>
<h3 class="unnumbered unlisted" id="synopsis-195">Synopsis</h3>
<div class="sourceCode" id="cb671"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb671-1"><a href="stdlib.html#cb671-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb671-2"><a href="stdlib.html#cb671-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb671-3"><a href="stdlib.html#cb671-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> wctomb<span class="op">(</span><span class="dt">char</span> <span class="op">*</span>s<span class="op">,</span> <span class="dt">wchar_t</span> wc<span class="op">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-195">Description</h3>
<p>If you have your hands on a wide character, you can use this to make it multibyte.</p>
<p>The wide character <code>wc</code> is stored as a multibyte character in the string pointed to by <code>s</code>. The buffer <code>s</code> points to should be at least <code>MB_CUR_MAX</code> characters long. Note that <code>MB_CUR_MAX</code> changes with locale.</p>
<p>If <code>wc</code> is a NUL wide character, a NUL is stored in <code>s</code> after the bytes needed to reset the shift state (if any).</p>
<p>If <code>s</code> is a <code>NULL</code> pointer, tests if this encoding has state dependency, as noted in the return value, below. It also resets the state, if there is one.</p>
<p>The behavior of this function is influenced by the locale.</p>
<h3 class="unnumbered unlisted" id="return-value-193">Return Value</h3>
<p>Returns the number of bytes used in the encoded multibyte character, or <code>-1</code> if <code>wc</code> does not correspond to any valid multibyte character.</p>
<p>Or, if <code>s</code> is NULL, returns true if this encoding has state dependency.</p>
<h3 class="unnumbered unlisted" id="example-196">Example</h3>
<div class="sourceCode" id="cb672"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb672-1"><a href="stdlib.html#cb672-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb672-2"><a href="stdlib.html#cb672-2"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb672-3"><a href="stdlib.html#cb672-3"></a><span class="pp">#include </span><span class="im">&lt;locale.h&gt;</span></span>
<span id="cb672-4"><a href="stdlib.html#cb672-4"></a><span class="pp">#include </span><span class="im">&lt;wchar.h&gt;</span></span>
<span id="cb672-5"><a href="stdlib.html#cb672-5"></a></span>
<span id="cb672-6"><a href="stdlib.html#cb672-6"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb672-7"><a href="stdlib.html#cb672-7"></a><span class="op">{</span></span>
<span id="cb672-8"><a href="stdlib.html#cb672-8"></a>    setlocale<span class="op">(</span>LC_ALL<span class="op">,</span> <span class="st">&quot;&quot;</span><span class="op">);</span></span>
<span id="cb672-9"><a href="stdlib.html#cb672-9"></a></span>
<span id="cb672-10"><a href="stdlib.html#cb672-10"></a>    printf<span class="op">(</span><span class="st">&quot;State dependency: </span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> mbtowc<span class="op">(</span>NULL<span class="op">,</span> NULL<span class="op">,</span> <span class="dv">0</span><span class="op">));</span></span>
<span id="cb672-11"><a href="stdlib.html#cb672-11"></a></span>
<span id="cb672-12"><a href="stdlib.html#cb672-12"></a>    <span class="dt">int</span> bytes<span class="op">;</span></span>
<span id="cb672-13"><a href="stdlib.html#cb672-13"></a>    <span class="dt">char</span> mb<span class="op">[</span>MB_CUR_MAX <span class="op">+</span> <span class="dv">1</span><span class="op">];</span></span>
<span id="cb672-14"><a href="stdlib.html#cb672-14"></a></span>
<span id="cb672-15"><a href="stdlib.html#cb672-15"></a>    bytes <span class="op">=</span> wctomb<span class="op">(</span>mb<span class="op">,</span> <span class="ch">L&#39;€&#39;</span><span class="op">);</span></span>
<span id="cb672-16"><a href="stdlib.html#cb672-16"></a>    mb<span class="op">[</span>bytes<span class="op">]</span> <span class="op">=</span> <span class="ch">&#39;</span><span class="sc">\0</span><span class="ch">&#39;</span><span class="op">;</span></span>
<span id="cb672-17"><a href="stdlib.html#cb672-17"></a></span>
<span id="cb672-18"><a href="stdlib.html#cb672-18"></a>    printf<span class="op">(</span><span class="st">&quot;L&#39;€&#39; takes </span><span class="sc">%d</span><span class="st"> bytes as multibyte char &#39;</span><span class="sc">%s</span><span class="st">&#39;</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">,</span> bytes<span class="op">,</span> mb<span class="op">);</span></span>
<span id="cb672-19"><a href="stdlib.html#cb672-19"></a><span class="op">}</span></span></code></pre></div>
<p>Output on my system:</p>
<div class="sourceCode" id="cb673"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb673-1"><a href="stdlib.html#cb673-1" aria-hidden="true" tabindex="-1"></a>State dependency: 0</span>
<span id="cb673-2"><a href="stdlib.html#cb673-2" aria-hidden="true" tabindex="-1"></a>L&#39;€&#39; takes 3 bytes as multibyte char &#39;€&#39;</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-183">See Also</h3>
<p><a href="stdlib.html#man-mbtowc"><code>mbtowc()</code></a>, <a href="stdlib.html#man-mbstowcs"><code>mbstowcs()</code></a>, <a href="stdlib.html#man-wcstombs"><code>wcstombs()</code></a>, <a href="locale.html#man-setlocale"><code>setlocale()</code></a></p>
<hr />
<h2 data-number="24.24" id="man-mbstowcs"><span class="header-section-number">24.24</span> <code>mbstowcs()</code></h2>
<p></p>
<p>Convert a multibyte string to a wide character string</p>
<h3 class="unnumbered unlisted" id="synopsis-196">Synopsis</h3>
<div class="sourceCode" id="cb674"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb674-1"><a href="stdlib.html#cb674-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb674-2"><a href="stdlib.html#cb674-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb674-3"><a href="stdlib.html#cb674-3" aria-hidden="true" tabindex="-1"></a><span class="dt">size_t</span> mbstowcs<span class="op">(</span><span class="dt">wchar_t</span> <span class="op">*</span> <span class="dt">restrict</span> pwcs<span class="op">,</span> <span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span> <span class="dt">restrict</span> s<span class="op">,</span> <span class="dt">size_t</span> n<span class="op">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-196">Description</h3>
<p>If you have a multibyte string (AKA a regular string), you can convert it wto a wide character string with this function.</p>
<p>At most <code>n</code> wide characters are written to the destination <code>pwcs</code> from the source <code>s</code>.</p>
<p>A NUL character is stored as a wide NUL character.</p>
<p>Non-portable POSIX extension: if you’re using a POSIX-complaint library, this function allows <code>pwcs</code> to be <code>NULL</code> if you’re only interested in the return value. Most notably, this will give you the number of characters in a multibyte string (as opposed to <a href="stringref.html#man-strlen"><code>strlen()</code></a> which counts the bytes.)</p>
<h3 class="unnumbered unlisted" id="return-value-194">Return Value</h3>
<p>Returns the number of wide characters written to the destination <code>pwcs</code>.</p>
<p>If an invalid multibyte character was found, returns <code>(size_t)(-1)</code>.</p>
<p>If the return value is <code>n</code>, it means the result was <em>not</em> NUL-terminated.</p>
<h3 class="unnumbered unlisted" id="example-197">Example</h3>
<p>This source uses an extended character set. If your compiler doesn’t support it, you’ll have to replace them with <code>\u</code> escapes.</p>
<div class="sourceCode" id="cb675"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb675-1"><a href="stdlib.html#cb675-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb675-2"><a href="stdlib.html#cb675-2"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb675-3"><a href="stdlib.html#cb675-3"></a><span class="pp">#include </span><span class="im">&lt;locale.h&gt;</span></span>
<span id="cb675-4"><a href="stdlib.html#cb675-4"></a><span class="pp">#include </span><span class="im">&lt;string.h&gt;</span></span>
<span id="cb675-5"><a href="stdlib.html#cb675-5"></a></span>
<span id="cb675-6"><a href="stdlib.html#cb675-6"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb675-7"><a href="stdlib.html#cb675-7"></a><span class="op">{</span></span>
<span id="cb675-8"><a href="stdlib.html#cb675-8"></a>    setlocale<span class="op">(</span>LC_ALL<span class="op">,</span> <span class="st">&quot;&quot;</span><span class="op">);</span></span>
<span id="cb675-9"><a href="stdlib.html#cb675-9"></a></span>
<span id="cb675-10"><a href="stdlib.html#cb675-10"></a>    <span class="dt">wchar_t</span> wcs<span class="op">[</span><span class="dv">128</span><span class="op">];</span></span>
<span id="cb675-11"><a href="stdlib.html#cb675-11"></a>    <span class="dt">char</span> <span class="op">*</span>s <span class="op">=</span> <span class="st">&quot;€200 for this spoon?&quot;</span><span class="op">;</span>  <span class="co">// 20 characters</span></span>
<span id="cb675-12"><a href="stdlib.html#cb675-12"></a></span>
<span id="cb675-13"><a href="stdlib.html#cb675-13"></a>    <span class="dt">size_t</span> char_count<span class="op">,</span> byte_count<span class="op">;</span></span>
<span id="cb675-14"><a href="stdlib.html#cb675-14"></a></span>
<span id="cb675-15"><a href="stdlib.html#cb675-15"></a>    char_count <span class="op">=</span> mbstowcs<span class="op">(</span>wcs<span class="op">,</span> s<span class="op">,</span> <span class="dv">128</span><span class="op">);</span></span>
<span id="cb675-16"><a href="stdlib.html#cb675-16"></a>    byte_count <span class="op">=</span> strlen<span class="op">(</span>s<span class="op">);</span></span>
<span id="cb675-17"><a href="stdlib.html#cb675-17"></a></span>
<span id="cb675-18"><a href="stdlib.html#cb675-18"></a>    printf<span class="op">(</span><span class="st">&quot;Wide string: L</span><span class="sc">\&quot;%ls\&quot;\n</span><span class="st">&quot;</span><span class="op">,</span> wcs<span class="op">);</span></span>
<span id="cb675-19"><a href="stdlib.html#cb675-19"></a>    printf<span class="op">(</span><span class="st">&quot;Char count : </span><span class="sc">%zu\n</span><span class="st">&quot;</span><span class="op">,</span> char_count<span class="op">);</span>    <span class="co">// 20</span></span>
<span id="cb675-20"><a href="stdlib.html#cb675-20"></a>    printf<span class="op">(</span><span class="st">&quot;Byte count : </span><span class="sc">%zu\n\n</span><span class="st">&quot;</span><span class="op">,</span> byte_count<span class="op">);</span>  <span class="co">// 22 on my system</span></span>
<span id="cb675-21"><a href="stdlib.html#cb675-21"></a></span>
<span id="cb675-22"><a href="stdlib.html#cb675-22"></a>    <span class="co">// POSIX Extension that allows you to pass NULL for</span></span>
<span id="cb675-23"><a href="stdlib.html#cb675-23"></a>    <span class="co">// the destination so you can just use the return</span></span>
<span id="cb675-24"><a href="stdlib.html#cb675-24"></a>    <span class="co">// value (which is the character count of the string, </span></span>
<span id="cb675-25"><a href="stdlib.html#cb675-25"></a>    <span class="co">// if no errors have occurred)</span></span>
<span id="cb675-26"><a href="stdlib.html#cb675-26"></a></span>
<span id="cb675-27"><a href="stdlib.html#cb675-27"></a>    s <span class="op">=</span> <span class="st">&quot;§¶°±π€•&quot;</span><span class="op">;</span>  <span class="co">// 7 characters</span></span>
<span id="cb675-28"><a href="stdlib.html#cb675-28"></a></span>
<span id="cb675-29"><a href="stdlib.html#cb675-29"></a>    char_count <span class="op">=</span> mbstowcs<span class="op">(</span>NULL<span class="op">,</span> s<span class="op">,</span> <span class="dv">0</span><span class="op">);</span>  <span class="co">// POSIX-only, nonportable</span></span>
<span id="cb675-30"><a href="stdlib.html#cb675-30"></a>    byte_count <span class="op">=</span> strlen<span class="op">(</span>s<span class="op">);</span></span>
<span id="cb675-31"><a href="stdlib.html#cb675-31"></a></span>
<span id="cb675-32"><a href="stdlib.html#cb675-32"></a>    printf<span class="op">(</span><span class="st">&quot;Multibyte str: </span><span class="sc">\&quot;%s\&quot;\n</span><span class="st">&quot;</span><span class="op">,</span> s<span class="op">);</span></span>
<span id="cb675-33"><a href="stdlib.html#cb675-33"></a>    printf<span class="op">(</span><span class="st">&quot;Char count   : </span><span class="sc">%zu\n</span><span class="st">&quot;</span><span class="op">,</span> char_count<span class="op">);</span>  <span class="co">// 7</span></span>
<span id="cb675-34"><a href="stdlib.html#cb675-34"></a>    printf<span class="op">(</span><span class="st">&quot;Byte count   : </span><span class="sc">%zu\n</span><span class="st">&quot;</span><span class="op">,</span> byte_count<span class="op">);</span>  <span class="co">// 16 on my system</span></span>
<span id="cb675-35"><a href="stdlib.html#cb675-35"></a><span class="op">}</span></span></code></pre></div>
<p>Output on my system (byte count will depend on your encoding):</p>
<div class="sourceCode" id="cb676"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb676-1"><a href="stdlib.html#cb676-1" aria-hidden="true" tabindex="-1"></a>Wide string: L&quot;€200 for this spoon?&quot;</span>
<span id="cb676-2"><a href="stdlib.html#cb676-2" aria-hidden="true" tabindex="-1"></a>Char count : 20</span>
<span id="cb676-3"><a href="stdlib.html#cb676-3" aria-hidden="true" tabindex="-1"></a>Byte count : 22</span>
<span id="cb676-4"><a href="stdlib.html#cb676-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb676-5"><a href="stdlib.html#cb676-5" aria-hidden="true" tabindex="-1"></a>Multibyte str: &quot;§¶°±π€•&quot;</span>
<span id="cb676-6"><a href="stdlib.html#cb676-6" aria-hidden="true" tabindex="-1"></a>Char count   : 7</span>
<span id="cb676-7"><a href="stdlib.html#cb676-7" aria-hidden="true" tabindex="-1"></a>Byte count   : 16</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-184">See Also</h3>
<p><a href="stdlib.html#man-mblen"><code>mblen()</code></a>, <a href="stdlib.html#man-mbtowc"><code>mbtowc()</code></a>, <a href="stdlib.html#man-wcstombs"><code>wcstombs()</code></a>, <a href="locale.html#man-setlocale"><code>setlocale()</code></a></p>
<hr />
<h2 data-number="24.25" id="man-wcstombs"><span class="header-section-number">24.25</span> <code>wcstombs()</code></h2>
<p></p>
<p>Convert a wide character string to a multibyte string</p>
<h3 class="unnumbered unlisted" id="synopsis-197">Synopsis</h3>
<div class="sourceCode" id="cb677"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb677-1"><a href="stdlib.html#cb677-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb677-2"><a href="stdlib.html#cb677-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb677-3"><a href="stdlib.html#cb677-3" aria-hidden="true" tabindex="-1"></a><span class="dt">size_t</span> wcstombs<span class="op">(</span><span class="dt">char</span> <span class="op">*</span> <span class="dt">restrict</span> s<span class="op">,</span> <span class="dt">const</span> <span class="dt">wchar_t</span> <span class="op">*</span> <span class="dt">restrict</span> pwcs<span class="op">,</span> <span class="dt">size_t</span> n<span class="op">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-197">Description</h3>
<p>If you have a wide character string and you want it as multibyte string, this is the function for you!</p>
<p>It’ll take the wide characters pointed to by <code>pwcs</code> and convert them to multibyte characters stored in <code>s</code>. No more than <code>n</code> bytes will be written to <code>s</code>.</p>
<p>Non-portable POSIX extension: if you’re using a POSIX-complaint library, this function allows <code>s</code> to be <code>NULL</code> if you’re only interested in the return value. Most notably, this will give you the number of bytes needed to encode the wide characters in a multibyte string.</p>
<h3 class="unnumbered unlisted" id="return-value-195">Return Value</h3>
<p>Returns the number of bytes written to <code>s</code>, or <code>(size_t)(-1)</code> if one of the characters can’t be encoded into a multibyte string.</p>
<p>If the return value is <code>n</code>, it means the result was <em>not</em> NUL-terminated.</p>
<h3 class="unnumbered unlisted" id="example-198">Example</h3>
<p>This source uses an extended character set. If your compiler doesn’t support it, you’ll have to replace them with <code>\u</code> escapes.</p>
<div class="sourceCode" id="cb678"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c"><span id="cb678-1"><a href="stdlib.html#cb678-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb678-2"><a href="stdlib.html#cb678-2"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb678-3"><a href="stdlib.html#cb678-3"></a><span class="pp">#include </span><span class="im">&lt;locale.h&gt;</span></span>
<span id="cb678-4"><a href="stdlib.html#cb678-4"></a><span class="pp">#include </span><span class="im">&lt;string.h&gt;</span></span>
<span id="cb678-5"><a href="stdlib.html#cb678-5"></a></span>
<span id="cb678-6"><a href="stdlib.html#cb678-6"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb678-7"><a href="stdlib.html#cb678-7"></a><span class="op">{</span></span>
<span id="cb678-8"><a href="stdlib.html#cb678-8"></a>    setlocale<span class="op">(</span>LC_ALL<span class="op">,</span> <span class="st">&quot;&quot;</span><span class="op">);</span></span>
<span id="cb678-9"><a href="stdlib.html#cb678-9"></a></span>
<span id="cb678-10"><a href="stdlib.html#cb678-10"></a>    <span class="dt">char</span> mbs<span class="op">[</span><span class="dv">128</span><span class="op">];</span></span>
<span id="cb678-11"><a href="stdlib.html#cb678-11"></a>    <span class="dt">wchar_t</span> <span class="op">*</span>wcs <span class="op">=</span> <span class="st">L&quot;€200 for this spoon?&quot;</span><span class="op">;</span>  <span class="co">// 20 characters</span></span>
<span id="cb678-12"><a href="stdlib.html#cb678-12"></a></span>
<span id="cb678-13"><a href="stdlib.html#cb678-13"></a>    <span class="dt">size_t</span> byte_count<span class="op">;</span></span>
<span id="cb678-14"><a href="stdlib.html#cb678-14"></a></span>
<span id="cb678-15"><a href="stdlib.html#cb678-15"></a>    byte_count <span class="op">=</span> wcstombs<span class="op">(</span>mbs<span class="op">,</span> wcs<span class="op">,</span> <span class="dv">128</span><span class="op">);</span></span>
<span id="cb678-16"><a href="stdlib.html#cb678-16"></a></span>
<span id="cb678-17"><a href="stdlib.html#cb678-17"></a>    printf<span class="op">(</span><span class="st">&quot;Wide string: L</span><span class="sc">\&quot;%ls\&quot;\n</span><span class="st">&quot;</span><span class="op">,</span> wcs<span class="op">);</span></span>
<span id="cb678-18"><a href="stdlib.html#cb678-18"></a>    printf<span class="op">(</span><span class="st">&quot;Multibyte  : </span><span class="sc">\&quot;%s\&quot;\n</span><span class="st">&quot;</span><span class="op">,</span> mbs<span class="op">);</span></span>
<span id="cb678-19"><a href="stdlib.html#cb678-19"></a>    printf<span class="op">(</span><span class="st">&quot;Byte count : </span><span class="sc">%zu\n\n</span><span class="st">&quot;</span><span class="op">,</span> byte_count<span class="op">);</span>  <span class="co">// 22 on my system</span></span>
<span id="cb678-20"><a href="stdlib.html#cb678-20"></a></span>
<span id="cb678-21"><a href="stdlib.html#cb678-21"></a>    <span class="co">// POSIX Extension that allows you to pass NULL for</span></span>
<span id="cb678-22"><a href="stdlib.html#cb678-22"></a>    <span class="co">// the destination so you can just use the return</span></span>
<span id="cb678-23"><a href="stdlib.html#cb678-23"></a>    <span class="co">// value (which is the character count of the string, </span></span>
<span id="cb678-24"><a href="stdlib.html#cb678-24"></a>    <span class="co">// if no errors have occurred)</span></span>
<span id="cb678-25"><a href="stdlib.html#cb678-25"></a></span>
<span id="cb678-26"><a href="stdlib.html#cb678-26"></a>    wcs <span class="op">=</span> <span class="st">L&quot;§¶°±π€•&quot;</span><span class="op">;</span>  <span class="co">// 7 characters</span></span>
<span id="cb678-27"><a href="stdlib.html#cb678-27"></a></span>
<span id="cb678-28"><a href="stdlib.html#cb678-28"></a>    byte_count <span class="op">=</span> wcstombs<span class="op">(</span>NULL<span class="op">,</span> wcs<span class="op">,</span> <span class="dv">0</span><span class="op">);</span>  <span class="co">// POSIX-only, nonportable</span></span>
<span id="cb678-29"><a href="stdlib.html#cb678-29"></a></span>
<span id="cb678-30"><a href="stdlib.html#cb678-30"></a>    printf<span class="op">(</span><span class="st">&quot;Wide string: L</span><span class="sc">\&quot;%ls\&quot;\n</span><span class="st">&quot;</span><span class="op">,</span> wcs<span class="op">);</span></span>
<span id="cb678-31"><a href="stdlib.html#cb678-31"></a>    printf<span class="op">(</span><span class="st">&quot;Byte count : </span><span class="sc">%zu\n</span><span class="st">&quot;</span><span class="op">,</span> byte_count<span class="op">);</span>  <span class="co">// 16 on my system</span></span>
<span id="cb678-32"><a href="stdlib.html#cb678-32"></a><span class="op">}</span></span></code></pre></div>
<p>Output on my system (byte count will depend on your encoding):</p>
<div class="sourceCode" id="cb679"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb679-1"><a href="stdlib.html#cb679-1" aria-hidden="true" tabindex="-1"></a>Wide string: L&quot;€200 for this spoon?&quot;</span>
<span id="cb679-2"><a href="stdlib.html#cb679-2" aria-hidden="true" tabindex="-1"></a>Multibyte  : &quot;€200 for this spoon?&quot;</span>
<span id="cb679-3"><a href="stdlib.html#cb679-3" aria-hidden="true" tabindex="-1"></a>Byte count : 22</span>
<span id="cb679-4"><a href="stdlib.html#cb679-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb679-5"><a href="stdlib.html#cb679-5" aria-hidden="true" tabindex="-1"></a>Wide string: L&quot;§¶°±π€•&quot;</span>
<span id="cb679-6"><a href="stdlib.html#cb679-6" aria-hidden="true" tabindex="-1"></a>Byte count : 16</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-185">See Also</h3>
<p><a href="stdlib.html#man-mblen"><code>mblen()</code></a>, <a href="stdlib.html#man-wctomb"><code>wctomb()</code></a>, <a href="stdlib.html#man-mbstowcs"><code>mbstowcs()</code></a>, <a href="locale.html#man-setlocale"><code>setlocale()</code></a></p>
<hr />
<h2 data-number="24.26" id="man-memalignment"><span class="header-section-number">24.26</span> <code>memalignment()</code></h2>
<p></p>
<h3 class="unnumbered unlisted" id="synopsis-198">Synopsis</h3>
<p>New in C23!</p>
<div class="sourceCode" id="cb680"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb680-1"><a href="stdlib.html#cb680-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb680-2"><a href="stdlib.html#cb680-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb680-3"><a href="stdlib.html#cb680-3" aria-hidden="true" tabindex="-1"></a><span class="dt">size_t</span> memalignment<span class="op">(</span><span class="dt">const</span> <span class="dt">void</span> <span class="op">*</span> p<span class="op">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-198">Description</h3>
<p>This function will give you the memory alignment (in bytes) of the object pointed to.</p>
<p>The idea is that we’re going to get the same information as we get with <a href="stdalign.html#man-alignof"><code>alignof</code></a>, except we can do it with an untyped <code>void*</code>.</p>
<p>And you might want to do this because misaligned data could be slower or unusable on various platforms.</p>
<h3 class="unnumbered unlisted" id="return-value-196">Return Value</h3>
<p>Returns the integer alignment of <code>p</code>, which will be a power of 2. Returns <code>0</code> if <code>NULL</code> is passed in.</p>
<p><code>0</code> means the pointer can’t be used to access an object of any type.</p>
<h3 class="unnumbered unlisted" id="example-199">Example</h3>
<p>(Caveat: none of my compilers support this function yet, so the code is largely untested.)</p>
<p>The proposal for this feature suggests that a macro might be useful for determining if a pointer is well-aligned for a particular type, so we’ll just steal that as an example:</p>
<div class="sourceCode" id="cb681"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb681-1"><a href="stdlib.html#cb681-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb681-2"><a href="stdlib.html#cb681-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdalign.h&gt;</span></span>
<span id="cb681-3"><a href="stdlib.html#cb681-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb681-4"><a href="stdlib.html#cb681-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb681-5"><a href="stdlib.html#cb681-5" aria-hidden="true" tabindex="-1"></a><span class="pp">#define isaligned</span><span class="op">(</span><span class="pp">P</span><span class="op">,</span><span class="pp"> T</span><span class="op">)</span><span class="pp"> </span><span class="op">(</span><span class="pp">memalignment </span><span class="op">(</span><span class="pp">P</span><span class="op">)</span><span class="pp"> </span><span class="op">&gt;=</span><span class="pp"> </span><span class="kw">alignof</span><span class="op">(</span><span class="pp">T</span><span class="op">))</span></span>
<span id="cb681-6"><a href="stdlib.html#cb681-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb681-7"><a href="stdlib.html#cb681-7" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> check<span class="op">(</span><span class="dt">void</span> <span class="op">*</span>p<span class="op">)</span></span>
<span id="cb681-8"><a href="stdlib.html#cb681-8" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb681-9"><a href="stdlib.html#cb681-9" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%lu</span><span class="st"> </span><span class="sc">%lu\n</span><span class="st">&quot;</span><span class="op">,</span> memalignment<span class="op">(</span>p<span class="op">),</span> <span class="kw">alignof</span><span class="op">(</span><span class="dt">int</span><span class="op">));</span></span>
<span id="cb681-10"><a href="stdlib.html#cb681-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>isaligned<span class="op">(</span>p<span class="op">,</span> <span class="dt">int</span><span class="op">))</span> <span class="op">{</span></span>
<span id="cb681-11"><a href="stdlib.html#cb681-11" aria-hidden="true" tabindex="-1"></a>        puts<span class="op">(</span><span class="st">&quot;The pointer p is well-aligned for an int! :)&quot;</span><span class="op">);</span></span>
<span id="cb681-12"><a href="stdlib.html#cb681-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb681-13"><a href="stdlib.html#cb681-13" aria-hidden="true" tabindex="-1"></a>        <span class="co">// So I&#39;m happy doing this:</span></span>
<span id="cb681-14"><a href="stdlib.html#cb681-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb681-15"><a href="stdlib.html#cb681-15" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> <span class="op">*</span>i <span class="op">=</span> p<span class="op">;</span></span>
<span id="cb681-16"><a href="stdlib.html#cb681-16" aria-hidden="true" tabindex="-1"></a>        <span class="op">*</span>i <span class="op">=</span> <span class="dv">3490</span><span class="op">;</span></span>
<span id="cb681-17"><a href="stdlib.html#cb681-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb681-18"><a href="stdlib.html#cb681-18" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span> <span class="cf">else</span></span>
<span id="cb681-19"><a href="stdlib.html#cb681-19" aria-hidden="true" tabindex="-1"></a>        puts<span class="op">(</span><span class="st">&quot;The pointer p is poorly-aligned for an int! :(&quot;</span><span class="op">);</span></span>
<span id="cb681-20"><a href="stdlib.html#cb681-20" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb681-21"><a href="stdlib.html#cb681-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb681-22"><a href="stdlib.html#cb681-22" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb681-23"><a href="stdlib.html#cb681-23" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb681-24"><a href="stdlib.html#cb681-24" aria-hidden="true" tabindex="-1"></a>    <span class="dt">char</span> <span class="op">*</span>p <span class="op">=</span> malloc<span class="op">(</span><span class="dv">10</span><span class="op">);</span></span>
<span id="cb681-25"><a href="stdlib.html#cb681-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb681-26"><a href="stdlib.html#cb681-26" aria-hidden="true" tabindex="-1"></a>    check<span class="op">(</span>p<span class="op">);</span></span>
<span id="cb681-27"><a href="stdlib.html#cb681-27" aria-hidden="true" tabindex="-1"></a>    check<span class="op">(</span>p <span class="op">+</span> <span class="dv">1</span><span class="op">);</span></span>
<span id="cb681-28"><a href="stdlib.html#cb681-28" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-186">See Also</h3>
<p><a href="stdalign.html#man-alignof"><code>alignof()</code></a>, <a href="stdalign.html#man-alignas"><code>alignas()</code></a>, <a href="stddef.html#man-max_align_t"><code>max_align_t</code></a></p>
<!--
***
## `example()`, `example()`, `example()` {#man-example}

### Synopsis {.unnumbered .unlisted}

``` {.c}
```

### Description {.unnumbered .unlisted}

### Return Value {.unnumbered .unlisted}

### Example {.unnumbered .unlisted}

``` {.c .numberLines}
```

### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<hr><div style="text-align:center"><span><a href="stdio.html" rel="prev">Prev</a> | </span><a href="index.html">Contents</a><span> | <a href="stdnoreturn.html" rel="next">Next</a></span></div></body>
</html>
